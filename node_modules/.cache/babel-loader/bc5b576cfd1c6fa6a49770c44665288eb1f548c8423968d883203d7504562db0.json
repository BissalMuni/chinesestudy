{"ast":null,"code":"var _jsxFileName = \"D:\\\\Coding\\\\chinesestudy\\\\src\\\\App.tsx\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect, useCallback } from 'react';\nimport Navigation from './components/Navigation';\nimport SentenceCard from './components/SentenceCard';\nimport { isDateBasedContent, isCategoryContent, isDayContent } from './types';\nimport './styles/App.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst App = () => {\n  _s();\n  const [currentScreen, setCurrentScreen] = useState('home');\n  const [availableFiles, setAvailableFiles] = useState([]);\n  const [pastMonths, setPastMonths] = useState([]);\n  const [presentMonths, setPresentMonths] = useState([]);\n  const [integratedFiles, setIntegratedFiles] = useState([]);\n  const [selectedMonth, setSelectedMonth] = useState(() => {\n    return localStorage.getItem('selectedMonth') || '2025-08';\n  });\n  const [selectedDate, setSelectedDate] = useState(() => {\n    return localStorage.getItem('selectedDate') || '2025-08-07';\n  });\n  const [selectedCategory, setSelectedCategory] = useState(() => {\n    return localStorage.getItem('selectedCategory') || '';\n  });\n  const [selectedSubcategory] = useState(''); // eslint-disable-line @typescript-eslint/no-unused-vars\n  const [lastSelectedFolder, setLastSelectedFolder] = useState(() => {\n    return localStorage.getItem('lastSelectedFolder') || '';\n  });\n  const [lastSelectedMonth, setLastSelectedMonth] = useState(() => {\n    return localStorage.getItem('lastSelectedMonth') || '';\n  });\n  const [sentenceData, setSentenceData] = useState(null);\n  const [sentences, setSentences] = useState([]);\n  const [contentSections, setContentSections] = useState([]);\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState('');\n  const [isDarkMode, setIsDarkMode] = useState(() => {\n    const saved = localStorage.getItem('isDarkMode');\n    return saved ? JSON.parse(saved) : false;\n  });\n  const [isDateBased, setIsDateBased] = useState(() => {\n    const saved = localStorage.getItem('isDateBased');\n    return saved ? JSON.parse(saved) : false;\n  });\n\n  // í´ë”ì—ì„œ ë°ì´í„° ë¡œë“œí•˜ëŠ” ê³µí†µ í•¨ìˆ˜\n  const loadDataFromFolder = useCallback(async (folder, month) => {\n    setLoading(true);\n    setError('');\n    try {\n      // í´ë”ì—ì„œ ë°ì´í„° ë¡œë“œ (202201.json í˜•ì‹)\n      const monthCode = month.replace('-', '');\n      const response = await fetch(`/data/${folder}/${monthCode}.json`);\n      if (!response.ok) {\n        throw new Error(`HTTP error! status: ${response.status}`);\n      }\n      const data = await response.json();\n      console.log(`${folder} data loaded successfully:`, data);\n      if (!data || !data.contents || !Array.isArray(data.contents) || data.contents.length === 0) {\n        throw new Error('Invalid data structure');\n      }\n      setSentenceData(data);\n\n      // ìƒˆë¡œìš´ JSON êµ¬ì¡° ì²˜ë¦¬\n      const firstContent = data.contents[0];\n      if (isDayContent(firstContent)) {\n        // ìƒˆë¡œìš´ êµ¬ì¡°: dayì™€ contentë¥¼ ê°€ì§„ í˜•ì‹\n        setIsDateBased(false); // ì¹´í…Œê³ ë¦¬ ê¸°ë°˜ìœ¼ë¡œ ì²˜ë¦¬\n        localStorage.setItem('isDateBased', JSON.stringify(false));\n\n        // ì‚¬ìš© ê°€ëŠ¥í•œ ë‚ ì§œë“¤ ì„¤ì •\n        const days = data.contents.filter(content => content.day).map(content => content.day);\n        if (days.length > 0) {\n          setSelectedMonth(month);\n          localStorage.setItem('selectedMonth', month);\n\n          // ì²« ë²ˆì§¸ ë‚ ì§œ ì„ íƒ\n          const firstDay = days[0];\n          const dateStr = `${month}-${String(firstDay).padStart(2, '0')}`;\n          setSelectedDate(dateStr);\n          localStorage.setItem('selectedDate', dateStr);\n\n          // ì²« ë²ˆì§¸ ë‚ ì§œì˜ ë°ì´í„°ë¡œ ì´ˆê¸°í™”\n          const firstDayContent = data.contents[0];\n          if (isDayContent(firstDayContent) && firstDayContent.content && firstDayContent.content.length > 0) {\n            const savedCategory = localStorage.getItem('selectedCategory') || 'ì „ì²´';\n            setSelectedCategory(savedCategory);\n            localStorage.setItem('selectedCategory', savedCategory);\n          }\n        }\n      } else if (isDateBasedContent(firstContent)) {\n        // ê¸°ì¡´ ë‚ ì§œ ê¸°ë°˜ êµ¬ì¡°\n        setIsDateBased(true);\n        localStorage.setItem('isDateBased', JSON.stringify(true));\n        setSentences(firstContent.sentences);\n        const actualDates = data.contents.filter(isDateBasedContent).map(content => content.date);\n        setAvailableFiles(actualDates);\n        if (actualDates.length > 0) {\n          setSelectedMonth(month);\n          localStorage.setItem('selectedMonth', month);\n          const savedDate = localStorage.getItem('selectedDate');\n          const dateToSelect = savedDate && actualDates.includes(savedDate) ? savedDate : actualDates[0];\n          setSelectedDate(dateToSelect);\n          localStorage.setItem('selectedDate', dateToSelect);\n        }\n      } else if (isCategoryContent(firstContent)) {\n        // ê¸°ì¡´ ì¹´í…Œê³ ë¦¬ ê¸°ë°˜ êµ¬ì¡°\n        setIsDateBased(false);\n        localStorage.setItem('isDateBased', JSON.stringify(false));\n        const savedCategory = localStorage.getItem('selectedCategory') || 'ì „ì²´';\n        setSelectedCategory(savedCategory);\n        localStorage.setItem('selectedCategory', savedCategory);\n      }\n    } catch (err) {\n      console.error(`Error loading ${folder} data:`, err);\n      setError(err instanceof Error ? err.message : `${folder} ë°ì´í„°ë¥¼ ë¶ˆëŸ¬ì˜¬ ìˆ˜ ì—†ìŠµë‹ˆë‹¤.`);\n      setSentences([]);\n    } finally {\n      setLoading(false);\n    }\n  }, []);\n\n  // íŠ¹ì • ë‚ ì§œì˜ ì»¨í…ì¸  ì„¹ì…˜ ìƒì„±\n  const createContentSectionsForDay = useCallback(dayContent => {\n    const sections = [];\n    let idCounter = 1;\n    if (dayContent.content) {\n      dayContent.content.forEach(categoryData => {\n        // ì¹´í…Œê³ ë¦¬ êµ¬ë¶„ì„ \n        sections.push({\n          type: 'divider',\n          dividerText: categoryData.category\n        });\n        categoryData.subcategories.forEach(subcategory => {\n          // ì„œë¸Œì¹´í…Œê³ ë¦¬ êµ¬ë¶„ì„ \n          sections.push({\n            type: 'divider',\n            dividerText: subcategory.subcategory\n          });\n\n          // ë¬¸ìž¥ë“¤\n          subcategory.sentences.forEach(sentence => {\n            sections.push({\n              type: 'sentence',\n              sentence: {\n                ...sentence,\n                id: idCounter++\n              }\n            });\n          });\n        });\n      });\n    }\n    return sections;\n  }, []);\n\n  // ì»¨í…ì¸  ì„¹ì…˜ ìƒì„± (ì¹´í…Œê³ ë¦¬ë³„)\n  const createContentSections = useCallback(category => {\n    if (!sentenceData || !sentenceData.contents) return [];\n    const sections = [];\n    let idCounter = 1;\n\n    // ì„ íƒëœ ë‚ ì§œì˜ ë°ì´í„° ê°€ì ¸ì˜¤ê¸°\n    const day = parseInt(selectedDate.split('-')[2]);\n    const dayContent = sentenceData.contents.find(content => isDayContent(content) && content.day === day);\n    if (!dayContent || !dayContent.content) return [];\n    if (category === 'ì „ì²´') {\n      // ì „ì²´ ì„ íƒ ì‹œ í•´ë‹¹ ë‚ ì§œì˜ ëª¨ë“  ì¹´í…Œê³ ë¦¬ í‘œì‹œ\n      return createContentSectionsForDay(dayContent);\n    } else {\n      // íŠ¹ì • ì¹´í…Œê³ ë¦¬ ì„ íƒ ì‹œ\n      const categoryData = dayContent.content.find(cat => cat.category === category);\n      if (categoryData) {\n        categoryData.subcategories.forEach(subcategory => {\n          // ì„œë¸Œì¹´í…Œê³ ë¦¬ êµ¬ë¶„ì„ \n          sections.push({\n            type: 'divider',\n            dividerText: subcategory.subcategory\n          });\n\n          // ë¬¸ìž¥ë“¤\n          subcategory.sentences.forEach(sentence => {\n            sections.push({\n              type: 'sentence',\n              sentence: {\n                ...sentence,\n                id: idCounter++\n              }\n            });\n          });\n        });\n      }\n    }\n    return sections;\n  }, [sentenceData, selectedDate, createContentSectionsForDay]);\n\n  // ê³¼ê±° ë° í˜„ìž¬ ì›” ëª©ë¡ ë¡œë“œ, í†µí•© íŒŒì¼ ëª©ë¡ ë¡œë“œ\n  useEffect(() => {\n    const loadAllMonths = async () => {\n      try {\n        // Past months ë¡œë“œ\n        const pastResponse = await fetch('/data/past/manifest.json');\n        if (pastResponse.ok) {\n          const pastData = await pastResponse.json();\n          const pastMonths = pastData.files.map(file => {\n            const match = file.match(/(\\d{4})(\\d{2})\\.json$/);\n            if (match) {\n              return `${match[1]}-${match[2]}`;\n            }\n            return null;\n          }).filter(Boolean);\n          setPastMonths(pastMonths);\n          console.log('Past months loaded:', pastMonths);\n        }\n\n        // Present months ë¡œë“œ\n        const presentResponse = await fetch('/data/present/manifest.json');\n        if (presentResponse.ok) {\n          const presentData = await presentResponse.json();\n          const presentMonths = presentData.files.map(file => {\n            const match = file.match(/(\\d{4})(\\d{2})\\.json$/);\n            if (match) {\n              return `${match[1]}-${match[2]}`;\n            }\n            return null;\n          }).filter(Boolean);\n          setPresentMonths(presentMonths);\n          console.log('Present months loaded:', presentMonths);\n        }\n      } catch (err) {\n        console.error('Error loading months:', err);\n      }\n    };\n    const loadIntegratedFiles = () => {\n      // í†µí•© í´ë”ì˜ íŒŒì¼ ëª©ë¡ (ìˆ˜ë™ìœ¼ë¡œ ì„¤ì •)\n      const files = ['01_ì´ˆê¸‰ë°˜_ì œ1-10ê³¼.txt', '02_ì¤‘ê¸‰ë°˜_ì œ11-25ê³¼.txt', '03_ê³ ê¸‰ë°˜_ì œ26-40ê³¼.txt', '04_ì‹¤ì „íšŒí™”_ì œ41-50ê³¼.txt', '05_íŒ¨í„´_ì œ1-90ê³¼.txt'];\n      setIntegratedFiles(files);\n      console.log('Integrated files loaded:', files);\n    };\n    loadAllMonths();\n    loadIntegratedFiles();\n  }, []);\n\n  // íŽ˜ì´ì§€ ë¡œë“œ ì‹œ ì €ìž¥ëœ ìƒíƒœ ë³µì›\n  useEffect(() => {\n    const loadSavedState = async () => {\n      const savedFolder = localStorage.getItem('lastSelectedFolder');\n      const savedMonth = localStorage.getItem('lastSelectedMonth');\n      if (savedFolder && savedMonth && (savedFolder === 'past' || savedFolder === 'present')) {\n        try {\n          console.log('Restoring saved state:', savedFolder, savedMonth);\n          await loadDataFromFolder(savedFolder, savedMonth);\n        } catch (error) {\n          console.error('Error restoring saved state:', error);\n        }\n      }\n    };\n    loadSavedState();\n  }, [loadDataFromFolder]);\n\n  // ë‚ ì§œ ê¸°ë°˜ ë°ì´í„°ì¼ ë•Œ ì €ìž¥ëœ ë‚ ì§œë¡œ ë³µì›\n  useEffect(() => {\n    if (sentenceData && isDateBased && selectedDate) {\n      const selectedDateData = sentenceData.contents.filter(isDateBasedContent).find(content => content.date === selectedDate);\n      if (selectedDateData) {\n        setSentences(selectedDateData.sentences);\n      }\n    }\n  }, [sentenceData, isDateBased, selectedDate]);\n\n  // ì¹´í…Œê³ ë¦¬ ê¸°ë°˜ ë°ì´í„°ì¼ ë•Œ ì»¨í…ì¸  ì„¹ì…˜ ì„¤ì •\n  useEffect(() => {\n    if (sentenceData && !isDateBased && selectedCategory) {\n      const sections = createContentSections(selectedCategory);\n      setContentSections(sections);\n      const sentencesOnly = sections.filter(section => section.type === 'sentence').map(section => section.sentence).filter(Boolean);\n      setSentences(sentencesOnly);\n    }\n  }, [sentenceData, isDateBased, selectedCategory, createContentSections]);\n\n  // ì›” ë³€ê²½ í•¸ë“¤ëŸ¬\n  const handleMonthChange = month => {\n    console.log('Month changed to:', month);\n    setSelectedMonth(month);\n    localStorage.setItem('selectedMonth', month);\n\n    // í•´ë‹¹ ì›”ì˜ ì²« ë²ˆì§¸ ë‚ ì§œ ì„ íƒ\n    const monthDates = availableFiles.filter(date => date.startsWith(month));\n    if (monthDates.length > 0) {\n      setSelectedDate(monthDates[0]);\n      localStorage.setItem('selectedDate', monthDates[0]);\n      // ì—¬ê¸°ì„œ ìƒˆë¡œìš´ ë°ì´í„°ë¥¼ ë¡œë“œí•´ì•¼ í•¨ (í˜„ìž¬ëŠ” 2025-08ë§Œ ìžˆìŒ)\n    }\n  };\n\n  // ê³¼ê±° ì›” ì„ íƒ í•¸ë“¤ëŸ¬\n  const handlePastMonthChange = async month => {\n    console.log('Past month selected:', month);\n    localStorage.setItem('lastSelectedFolder', 'past');\n    localStorage.setItem('lastSelectedMonth', month);\n    setLastSelectedFolder('past');\n    setLastSelectedMonth(month);\n    await loadDataFromFolder('past', month);\n    setCurrentScreen('recently'); // Stay on recently screen to show study interface\n  };\n\n  // í˜„ìž¬ ì›” ì„ íƒ í•¸ë“¤ëŸ¬\n  const handlePresentMonthChange = async month => {\n    console.log('Present month selected:', month);\n    localStorage.setItem('lastSelectedFolder', 'present');\n    localStorage.setItem('lastSelectedMonth', month);\n    setLastSelectedFolder('present');\n    setLastSelectedMonth(month);\n    await loadDataFromFolder('present', month);\n    setCurrentScreen('recently'); // Stay on recently screen to show study interface\n  };\n\n  // ì¹´í…Œê³ ë¦¬ ë³€ê²½ í•¸ë“¤ëŸ¬\n  const handleCategoryChange = category => {\n    console.log('Category changed to:', category);\n    setSelectedCategory(category);\n    localStorage.setItem('selectedCategory', category);\n\n    // ì»¨í…ì¸  ì„¹ì…˜ ìƒì„± (ì„œë¸Œì¹´í…Œê³ ë¦¬ êµ¬ë¶„ì„  í¬í•¨)\n    const sections = createContentSections(category);\n    setContentSections(sections);\n\n    // ê¸°ì¡´ sentencesë„ ì—…ë°ì´íŠ¸ (í˜¸í™˜ì„±ì„ ìœ„í•´ ìœ ì§€)\n    const sentencesOnly = sections.filter(section => section.type === 'sentence').map(section => section.sentence).filter(Boolean);\n    setSentences(sentencesOnly);\n  };\n\n  // ë‚ ì§œ ë³€ê²½ í•¸ë“¤ëŸ¬ (ìƒˆë¡œìš´ JSON êµ¬ì¡° ì§€ì›)\n  const handleDateChange = date => {\n    console.log('Date changed to:', date);\n    setSelectedDate(date);\n    localStorage.setItem('selectedDate', date);\n\n    // ìƒˆë¡œìš´ JSON êµ¬ì¡°ì—ì„œ dayë¡œ ë°ì´í„° ì°¾ê¸°\n    if (sentenceData && sentenceData.contents) {\n      const day = parseInt(date.split('-')[2]);\n      const dayContent = sentenceData.contents.find(content => isDayContent(content) && content.day === day);\n      if (dayContent && dayContent.content) {\n        var _dayContent$content$;\n        // ì²« ë²ˆì§¸ ì¹´í…Œê³ ë¦¬ë¥¼ ê¸°ë³¸ìœ¼ë¡œ ì„ íƒ\n        const firstCategory = ((_dayContent$content$ = dayContent.content[0]) === null || _dayContent$content$ === void 0 ? void 0 : _dayContent$content$.category) || 'ì „ì²´';\n        setSelectedCategory(firstCategory);\n        localStorage.setItem('selectedCategory', firstCategory);\n\n        // í•´ë‹¹ ë‚ ì§œì˜ ëª¨ë“  ë¬¸ìž¥ì„ contentSectionsë¡œ ì„¤ì •\n        const sections = createContentSectionsForDay(dayContent);\n        setContentSections(sections);\n        const sentencesOnly = sections.filter(section => section.type === 'sentence').map(section => section.sentence).filter(Boolean);\n        setSentences(sentencesOnly);\n      } else {\n        console.log('No data found for day:', day);\n        setSentences([]);\n        setContentSections([]);\n      }\n    }\n  };\n\n  // ë‹¤í¬ ëª¨ë“œ í† ê¸€\n  const toggleDarkMode = () => {\n    const newMode = !isDarkMode;\n    setIsDarkMode(newMode);\n    localStorage.setItem('isDarkMode', JSON.stringify(newMode));\n  };\n  if (loading) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"app\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"loading\",\n        children: \"\\uB370\\uC774\\uD130\\uB97C \\uBD88\\uB7EC\\uC624\\uB294 \\uC911...\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 416,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 415,\n      columnNumber: 7\n    }, this);\n  }\n  if (error) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"app\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"error-message\",\n        children: [\"\\uC624\\uB958: \", error]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 424,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 423,\n      columnNumber: 7\n    }, this);\n  }\n\n  // í™ˆ í™”ë©´ ë Œë”ë§\n  const renderHomeScreen = () => /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"home-screen\",\n    children: [/*#__PURE__*/_jsxDEV(\"header\", {\n      className: \"app-header\",\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        className: \"app-title\",\n        children: \"\\u4E2D\\u6587\\u5B66\\u4E60\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 435,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"dark-mode-toggle\",\n        onClick: toggleDarkMode,\n        \"aria-label\": \"\\uB2E4\\uD06C \\uBAA8\\uB4DC \\uD1A0\\uAE00\",\n        children: isDarkMode ? 'â˜€ï¸' : 'ðŸŒ™'\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 436,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 434,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"main\", {\n      className: \"main-content\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"home-buttons\",\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"data-source-button recently-button\",\n          onClick: () => setCurrentScreen('recently'),\n          children: [\"Recently\", /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"button-description\",\n            children: \"\\uCD5C\\uADFC \\uD559\\uC2B5 \\uB370\\uC774\\uD130\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 452,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 447,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"data-source-button integrated-button\",\n          onClick: () => setCurrentScreen('integrated'),\n          children: [\"Integrated\", /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"button-description\",\n            children: \"\\uD1B5\\uD569 \\uD559\\uC2B5 \\uB370\\uC774\\uD130\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 460,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 455,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 446,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 445,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 433,\n    columnNumber: 5\n  }, this);\n\n  // Recently í™”ë©´ ë Œë”ë§\n  const renderRecentlyScreen = () => /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"file-selection-screen\",\n    children: [/*#__PURE__*/_jsxDEV(\"header\", {\n      className: \"app-header\",\n      children: [/*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"back-button\",\n        onClick: () => setCurrentScreen('home'),\n        children: \"\\u2190 Back\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 471,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"h1\", {\n        className: \"app-title\",\n        children: \"Recently Files\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 477,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"dark-mode-toggle\",\n        onClick: toggleDarkMode,\n        \"aria-label\": \"\\uB2E4\\uD06C \\uBAA8\\uB4DC \\uD1A0\\uAE00\",\n        children: isDarkMode ? 'â˜€ï¸' : 'ðŸŒ™'\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 478,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 470,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"main\", {\n      className: \"main-content\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"file-grid\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"file-category\",\n          children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n            children: \"Past Data\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 490,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"file-buttons\",\n            children: pastMonths.map(month => /*#__PURE__*/_jsxDEV(\"button\", {\n              className: \"file-button\",\n              onClick: () => handlePastMonthChange(month),\n              children: month\n            }, month, false, {\n              fileName: _jsxFileName,\n              lineNumber: 493,\n              columnNumber: 17\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 491,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 489,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"file-category\",\n          children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n            children: \"Present Data\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 505,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"file-buttons\",\n            children: presentMonths.map(month => /*#__PURE__*/_jsxDEV(\"button\", {\n              className: \"file-button\",\n              onClick: () => handlePresentMonthChange(month),\n              children: month\n            }, month, false, {\n              fileName: _jsxFileName,\n              lineNumber: 508,\n              columnNumber: 17\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 506,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 504,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 488,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 487,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 469,\n    columnNumber: 5\n  }, this);\n\n  // Integrated í™”ë©´ ë Œë”ë§\n  const renderIntegratedScreen = () => /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"file-selection-screen\",\n    children: [/*#__PURE__*/_jsxDEV(\"header\", {\n      className: \"app-header\",\n      children: [/*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"back-button\",\n        onClick: () => setCurrentScreen('home'),\n        children: \"\\u2190 Back\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 527,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"h1\", {\n        className: \"app-title\",\n        children: \"Integrated Files\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 533,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"dark-mode-toggle\",\n        onClick: toggleDarkMode,\n        \"aria-label\": \"\\uB2E4\\uD06C \\uBAA8\\uB4DC \\uD1A0\\uAE00\",\n        children: isDarkMode ? 'â˜€ï¸' : 'ðŸŒ™'\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 534,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 526,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"main\", {\n      className: \"main-content\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"file-grid\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"file-category\",\n          children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n            children: \"\\uD1B5\\uD569 \\uD559\\uC2B5 \\uC790\\uB8CC\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 546,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"file-buttons\",\n            children: integratedFiles.map(file => /*#__PURE__*/_jsxDEV(\"button\", {\n              className: \"file-button\",\n              onClick: () => {\n                console.log('Selected integrated file:', file);\n                // TODO: í†µí•© íŒŒì¼ ë¡œë”© ë¡œì§ êµ¬í˜„\n              },\n              children: file.replace('.txt', '').replace(/^\\d+_/, '')\n            }, file, false, {\n              fileName: _jsxFileName,\n              lineNumber: 549,\n              columnNumber: 17\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 547,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 545,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 544,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 543,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 525,\n    columnNumber: 5\n  }, this);\n\n  // í•™ìŠµ í™”ë©´ ë Œë”ë§\n  const renderStudyScreen = () => /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"study-screen\",\n    children: [/*#__PURE__*/_jsxDEV(\"header\", {\n      className: \"app-header\",\n      children: [/*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"back-button\",\n        onClick: () => setCurrentScreen(lastSelectedFolder === 'past' || lastSelectedFolder === 'present' ? 'recently' : 'home'),\n        children: \"\\u2190 Back\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 571,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"h1\", {\n        className: \"app-title\",\n        children: \"\\u4E2D\\u6587\\u5B66\\u4E60\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 577,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"dark-mode-toggle\",\n        onClick: toggleDarkMode,\n        \"aria-label\": \"\\uB2E4\\uD06C \\uBAA8\\uB4DC \\uD1A0\\uAE00\",\n        children: isDarkMode ? 'â˜€ï¸' : 'ðŸŒ™'\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 578,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 570,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Navigation, {\n      availableDates: availableFiles,\n      pastMonths: pastMonths,\n      presentMonths: presentMonths,\n      selectedMonth: selectedMonth,\n      selectedDate: selectedDate,\n      selectedCategory: selectedCategory,\n      sentenceData: sentenceData,\n      lastSelectedFolder: lastSelectedFolder,\n      lastSelectedMonth: lastSelectedMonth,\n      onMonthChange: handleMonthChange,\n      onDateChange: handleDateChange,\n      onCategoryChange: handleCategoryChange,\n      onPastMonthChange: handlePastMonthChange,\n      onPresentMonthChange: handlePresentMonthChange\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 587,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"main\", {\n      className: \"main-content\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"sentences-container\",\n        children: !isDateBased && contentSections.length > 0 ?\n        // ì¹´í…Œê³ ë¦¬ ê¸°ë°˜ ë Œë”ë§ (ì„œë¸Œì¹´í…Œê³ ë¦¬ êµ¬ë¶„ì„  í¬í•¨)\n        contentSections.map((section, index) => {\n          var _section$sentence;\n          return section.type === 'divider' ? /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"subcategory-divider\",\n            children: /*#__PURE__*/_jsxDEV(\"h3\", {\n              children: section.dividerText\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 611,\n              columnNumber: 19\n            }, this)\n          }, `divider-${index}`, false, {\n            fileName: _jsxFileName,\n            lineNumber: 610,\n            columnNumber: 17\n          }, this) : /*#__PURE__*/_jsxDEV(SentenceCard, {\n            sentence: section.sentence\n          }, `sentence-${((_section$sentence = section.sentence) === null || _section$sentence === void 0 ? void 0 : _section$sentence.id) || index}`, false, {\n            fileName: _jsxFileName,\n            lineNumber: 614,\n            columnNumber: 17\n          }, this);\n        }) :\n        // ë‚ ì§œ ê¸°ë°˜ ë Œë”ë§ ë˜ëŠ” ë¹ˆ ìƒíƒœ\n        sentences.length > 0 ? sentences.map(sentence => /*#__PURE__*/_jsxDEV(SentenceCard, {\n          sentence: sentence\n        }, sentence.id, false, {\n          fileName: _jsxFileName,\n          lineNumber: 624,\n          columnNumber: 17\n        }, this)) : /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"no-data\",\n          children: [/*#__PURE__*/_jsxDEV(\"p\", {\n            children: \"\\uD45C\\uC2DC\\uD560 \\uBB38\\uC7A5\\uC774 \\uC5C6\\uC2B5\\uB2C8\\uB2E4.\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 631,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: \"\\uB0A0\\uC9DC \\uB610\\uB294 \\uCE74\\uD14C\\uACE0\\uB9AC\\uB97C \\uC120\\uD0DD\\uD574\\uC8FC\\uC138\\uC694.\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 632,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 630,\n          columnNumber: 15\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 605,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 604,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 569,\n    columnNumber: 5\n  }, this);\n\n  // í˜„ìž¬ í™”ë©´ì— ë”°ë¼ ì ì ˆí•œ ì»´í¬ë„ŒíŠ¸ ë Œë”ë§\n  const renderCurrentScreen = () => {\n    if (currentScreen === 'home') {\n      return renderHomeScreen();\n    } else if (currentScreen === 'recently') {\n      // Recently í™”ë©´ì—ì„œ ë°ì´í„°ê°€ ë¡œë“œë˜ë©´ study í™”ë©´ í‘œì‹œ\n      if (sentenceData) {\n        return renderStudyScreen();\n      }\n      return renderRecentlyScreen();\n    } else if (currentScreen === 'integrated') {\n      // Integrated í™”ë©´ì—ì„œ ë°ì´í„°ê°€ ë¡œë“œë˜ë©´ study í™”ë©´ í‘œì‹œ\n      if (sentenceData) {\n        return renderStudyScreen();\n      }\n      return renderIntegratedScreen();\n    }\n    return renderHomeScreen();\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: `app ${isDarkMode ? 'dark-mode' : ''}`,\n    children: renderCurrentScreen()\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 662,\n    columnNumber: 5\n  }, this);\n};\n_s(App, \"c++lmKzGnOKsLeNN6PZ4bWkjAzo=\");\n_c = App;\nexport default App;\nvar _c;\n$RefreshReg$(_c, \"App\");","map":{"version":3,"names":["React","useState","useEffect","useCallback","Navigation","SentenceCard","isDateBasedContent","isCategoryContent","isDayContent","jsxDEV","_jsxDEV","App","_s","currentScreen","setCurrentScreen","availableFiles","setAvailableFiles","pastMonths","setPastMonths","presentMonths","setPresentMonths","integratedFiles","setIntegratedFiles","selectedMonth","setSelectedMonth","localStorage","getItem","selectedDate","setSelectedDate","selectedCategory","setSelectedCategory","selectedSubcategory","lastSelectedFolder","setLastSelectedFolder","lastSelectedMonth","setLastSelectedMonth","sentenceData","setSentenceData","sentences","setSentences","contentSections","setContentSections","loading","setLoading","error","setError","isDarkMode","setIsDarkMode","saved","JSON","parse","isDateBased","setIsDateBased","loadDataFromFolder","folder","month","monthCode","replace","response","fetch","ok","Error","status","data","json","console","log","contents","Array","isArray","length","firstContent","setItem","stringify","days","filter","content","day","map","firstDay","dateStr","String","padStart","firstDayContent","savedCategory","actualDates","date","savedDate","dateToSelect","includes","err","message","createContentSectionsForDay","dayContent","sections","idCounter","forEach","categoryData","push","type","dividerText","category","subcategories","subcategory","sentence","id","createContentSections","parseInt","split","find","cat","loadAllMonths","pastResponse","pastData","files","file","match","Boolean","presentResponse","presentData","loadIntegratedFiles","loadSavedState","savedFolder","savedMonth","selectedDateData","sentencesOnly","section","handleMonthChange","monthDates","startsWith","handlePastMonthChange","handlePresentMonthChange","handleCategoryChange","handleDateChange","_dayContent$content$","firstCategory","toggleDarkMode","newMode","className","children","fileName","_jsxFileName","lineNumber","columnNumber","renderHomeScreen","onClick","renderRecentlyScreen","renderIntegratedScreen","renderStudyScreen","availableDates","onMonthChange","onDateChange","onCategoryChange","onPastMonthChange","onPresentMonthChange","index","_section$sentence","renderCurrentScreen","_c","$RefreshReg$"],"sources":["D:/Coding/chinesestudy/src/App.tsx"],"sourcesContent":["import React, { useState, useEffect, useCallback } from 'react';\r\nimport Navigation from './components/Navigation';\r\nimport SentenceCard from './components/SentenceCard';\r\nimport { SentenceData, Sentence, isDateBasedContent, isCategoryContent, isDayContent, ContentSection, DayContent } from './types';\r\nimport './styles/App.css';\r\n\r\nconst App: React.FC = () => {\r\n  const [currentScreen, setCurrentScreen] = useState<'home' | 'recently' | 'integrated'>('home');\r\n  const [availableFiles, setAvailableFiles] = useState<string[]>([]);\r\n  const [pastMonths, setPastMonths] = useState<string[]>([]);\r\n  const [presentMonths, setPresentMonths] = useState<string[]>([]);\r\n  const [integratedFiles, setIntegratedFiles] = useState<string[]>([]);\r\n  const [selectedMonth, setSelectedMonth] = useState<string>(() => {\r\n    return localStorage.getItem('selectedMonth') || '2025-08';\r\n  });\r\n  const [selectedDate, setSelectedDate] = useState<string>(() => {\r\n    return localStorage.getItem('selectedDate') || '2025-08-07';\r\n  });\r\n  const [selectedCategory, setSelectedCategory] = useState<string>(() => {\r\n    return localStorage.getItem('selectedCategory') || '';\r\n  });\r\n  const [selectedSubcategory] = useState<string>(''); // eslint-disable-line @typescript-eslint/no-unused-vars\r\n  const [lastSelectedFolder, setLastSelectedFolder] = useState<string>(() => {\r\n    return localStorage.getItem('lastSelectedFolder') || '';\r\n  });\r\n  const [lastSelectedMonth, setLastSelectedMonth] = useState<string>(() => {\r\n    return localStorage.getItem('lastSelectedMonth') || '';\r\n  });\r\n  const [sentenceData, setSentenceData] = useState<SentenceData | null>(null);\r\n  const [sentences, setSentences] = useState<Sentence[]>([]);\r\n  const [contentSections, setContentSections] = useState<ContentSection[]>([]);\r\n  const [loading, setLoading] = useState<boolean>(false);\r\n  const [error, setError] = useState<string>('');\r\n  const [isDarkMode, setIsDarkMode] = useState<boolean>(() => {\r\n    const saved = localStorage.getItem('isDarkMode');\r\n    return saved ? JSON.parse(saved) : false;\r\n  });\r\n  const [isDateBased, setIsDateBased] = useState<boolean>(() => {\r\n    const saved = localStorage.getItem('isDateBased');\r\n    return saved ? JSON.parse(saved) : false;\r\n  });\r\n\r\n  // í´ë”ì—ì„œ ë°ì´í„° ë¡œë“œí•˜ëŠ” ê³µí†µ í•¨ìˆ˜\r\n  const loadDataFromFolder = useCallback(async (folder: 'past' | 'present', month: string) => {\r\n    setLoading(true);\r\n    setError('');\r\n    \r\n    try {\r\n      // í´ë”ì—ì„œ ë°ì´í„° ë¡œë“œ (202201.json í˜•ì‹)\r\n      const monthCode = month.replace('-', '');\r\n      const response = await fetch(`/data/${folder}/${monthCode}.json`);\r\n      \r\n      if (!response.ok) {\r\n        throw new Error(`HTTP error! status: ${response.status}`);\r\n      }\r\n      \r\n      const data: SentenceData = await response.json();\r\n      console.log(`${folder} data loaded successfully:`, data);\r\n      \r\n      if (!data || !data.contents || !Array.isArray(data.contents) || data.contents.length === 0) {\r\n        throw new Error('Invalid data structure');\r\n      }\r\n      \r\n      setSentenceData(data);\r\n      \r\n      // ìƒˆë¡œìš´ JSON êµ¬ì¡° ì²˜ë¦¬\r\n      const firstContent = data.contents[0];\r\n      if (isDayContent(firstContent)) {\r\n        // ìƒˆë¡œìš´ êµ¬ì¡°: dayì™€ contentë¥¼ ê°€ì§„ í˜•ì‹\r\n        setIsDateBased(false); // ì¹´í…Œê³ ë¦¬ ê¸°ë°˜ìœ¼ë¡œ ì²˜ë¦¬\r\n        localStorage.setItem('isDateBased', JSON.stringify(false));\r\n        \r\n        // ì‚¬ìš© ê°€ëŠ¥í•œ ë‚ ì§œë“¤ ì„¤ì •\r\n        const days = data.contents\r\n          .filter((content: any) => content.day)\r\n          .map((content: any) => content.day);\r\n        \r\n        if (days.length > 0) {\r\n          setSelectedMonth(month);\r\n          localStorage.setItem('selectedMonth', month);\r\n          \r\n          // ì²« ë²ˆì§¸ ë‚ ì§œ ì„ íƒ\r\n          const firstDay = days[0];\r\n          const dateStr = `${month}-${String(firstDay).padStart(2, '0')}`;\r\n          setSelectedDate(dateStr);\r\n          localStorage.setItem('selectedDate', dateStr);\r\n          \r\n          // ì²« ë²ˆì§¸ ë‚ ì§œì˜ ë°ì´í„°ë¡œ ì´ˆê¸°í™”\r\n          const firstDayContent = data.contents[0];\r\n          if (isDayContent(firstDayContent) && firstDayContent.content && firstDayContent.content.length > 0) {\r\n            const savedCategory = localStorage.getItem('selectedCategory') || 'ì „ì²´';\r\n            setSelectedCategory(savedCategory);\r\n            localStorage.setItem('selectedCategory', savedCategory);\r\n          }\r\n        }\r\n      } else if (isDateBasedContent(firstContent)) {\r\n        // ê¸°ì¡´ ë‚ ì§œ ê¸°ë°˜ êµ¬ì¡°\r\n        setIsDateBased(true);\r\n        localStorage.setItem('isDateBased', JSON.stringify(true));\r\n        setSentences(firstContent.sentences);\r\n        const actualDates = data.contents\r\n          .filter(isDateBasedContent)\r\n          .map(content => content.date);\r\n        setAvailableFiles(actualDates);\r\n        if (actualDates.length > 0) {\r\n          setSelectedMonth(month);\r\n          localStorage.setItem('selectedMonth', month);\r\n          const savedDate = localStorage.getItem('selectedDate');\r\n          const dateToSelect = savedDate && actualDates.includes(savedDate) ? savedDate : actualDates[0];\r\n          setSelectedDate(dateToSelect);\r\n          localStorage.setItem('selectedDate', dateToSelect);\r\n        }\r\n      } else if (isCategoryContent(firstContent)) {\r\n        // ê¸°ì¡´ ì¹´í…Œê³ ë¦¬ ê¸°ë°˜ êµ¬ì¡°\r\n        setIsDateBased(false);\r\n        localStorage.setItem('isDateBased', JSON.stringify(false));\r\n        const savedCategory = localStorage.getItem('selectedCategory') || 'ì „ì²´';\r\n        setSelectedCategory(savedCategory);\r\n        localStorage.setItem('selectedCategory', savedCategory);\r\n      }\r\n    } catch (err) {\r\n      console.error(`Error loading ${folder} data:`, err);\r\n      setError(err instanceof Error ? err.message : `${folder} ë°ì´í„°ë¥¼ ë¶ˆëŸ¬ì˜¬ ìˆ˜ ì—†ìŠµë‹ˆë‹¤.`);\r\n      setSentences([]);\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  }, []);\r\n\r\n  // íŠ¹ì • ë‚ ì§œì˜ ì»¨í…ì¸  ì„¹ì…˜ ìƒì„±\r\n  const createContentSectionsForDay = useCallback((dayContent: DayContent) => {\r\n    const sections: ContentSection[] = [];\r\n    let idCounter = 1;\r\n    \r\n    if (dayContent.content) {\r\n      dayContent.content.forEach((categoryData: any) => {\r\n        // ì¹´í…Œê³ ë¦¬ êµ¬ë¶„ì„ \r\n        sections.push({\r\n          type: 'divider',\r\n          dividerText: categoryData.category\r\n        });\r\n        \r\n        categoryData.subcategories.forEach((subcategory: any) => {\r\n          // ì„œë¸Œì¹´í…Œê³ ë¦¬ êµ¬ë¶„ì„ \r\n          sections.push({\r\n            type: 'divider',\r\n            dividerText: subcategory.subcategory\r\n          });\r\n          \r\n          // ë¬¸ìž¥ë“¤\r\n          subcategory.sentences.forEach((sentence: any) => {\r\n            sections.push({\r\n              type: 'sentence',\r\n              sentence: {\r\n                ...sentence,\r\n                id: idCounter++\r\n              }\r\n            });\r\n          });\r\n        });\r\n      });\r\n    }\r\n    \r\n    return sections;\r\n  }, []);\r\n\r\n  // ì»¨í…ì¸  ì„¹ì…˜ ìƒì„± (ì¹´í…Œê³ ë¦¬ë³„)\r\n  const createContentSections = useCallback((category: string) => {\r\n    if (!sentenceData || !sentenceData.contents) return [];\r\n    \r\n    const sections: ContentSection[] = [];\r\n    let idCounter = 1;\r\n    \r\n    // ì„ íƒëœ ë‚ ì§œì˜ ë°ì´í„° ê°€ì ¸ì˜¤ê¸°\r\n    const day = parseInt(selectedDate.split('-')[2]);\r\n    const dayContent = sentenceData.contents.find((content): content is DayContent => isDayContent(content) && content.day === day);\r\n    \r\n    if (!dayContent || !dayContent.content) return [];\r\n    \r\n    if (category === 'ì „ì²´') {\r\n      // ì „ì²´ ì„ íƒ ì‹œ í•´ë‹¹ ë‚ ì§œì˜ ëª¨ë“  ì¹´í…Œê³ ë¦¬ í‘œì‹œ\r\n      return createContentSectionsForDay(dayContent);\r\n    } else {\r\n      // íŠ¹ì • ì¹´í…Œê³ ë¦¬ ì„ íƒ ì‹œ\r\n      const categoryData = dayContent.content.find((cat: any) => cat.category === category);\r\n      \r\n      if (categoryData) {\r\n        categoryData.subcategories.forEach((subcategory: any) => {\r\n          // ì„œë¸Œì¹´í…Œê³ ë¦¬ êµ¬ë¶„ì„ \r\n          sections.push({\r\n            type: 'divider',\r\n            dividerText: subcategory.subcategory\r\n          });\r\n          \r\n          // ë¬¸ìž¥ë“¤\r\n          subcategory.sentences.forEach((sentence: any) => {\r\n            sections.push({\r\n              type: 'sentence',\r\n              sentence: {\r\n                ...sentence,\r\n                id: idCounter++\r\n              }\r\n            });\r\n          });\r\n        });\r\n      }\r\n    }\r\n    \r\n    return sections;\r\n  }, [sentenceData, selectedDate, createContentSectionsForDay]);\r\n\r\n  // ê³¼ê±° ë° í˜„ìž¬ ì›” ëª©ë¡ ë¡œë“œ, í†µí•© íŒŒì¼ ëª©ë¡ ë¡œë“œ\r\n  useEffect(() => {\r\n    const loadAllMonths = async () => {\r\n      try {\r\n        // Past months ë¡œë“œ\r\n        const pastResponse = await fetch('/data/past/manifest.json');\r\n        if (pastResponse.ok) {\r\n          const pastData = await pastResponse.json();\r\n          const pastMonths = pastData.files.map((file: string) => {\r\n            const match = file.match(/(\\d{4})(\\d{2})\\.json$/);\r\n            if (match) {\r\n              return `${match[1]}-${match[2]}`;\r\n            }\r\n            return null;\r\n          }).filter(Boolean);\r\n          \r\n          setPastMonths(pastMonths);\r\n          console.log('Past months loaded:', pastMonths);\r\n        }\r\n        \r\n        // Present months ë¡œë“œ\r\n        const presentResponse = await fetch('/data/present/manifest.json');\r\n        if (presentResponse.ok) {\r\n          const presentData = await presentResponse.json();\r\n          const presentMonths = presentData.files.map((file: string) => {\r\n            const match = file.match(/(\\d{4})(\\d{2})\\.json$/);\r\n            if (match) {\r\n              return `${match[1]}-${match[2]}`;\r\n            }\r\n            return null;\r\n          }).filter(Boolean);\r\n          \r\n          setPresentMonths(presentMonths);\r\n          console.log('Present months loaded:', presentMonths);\r\n        }\r\n      } catch (err) {\r\n        console.error('Error loading months:', err);\r\n      }\r\n    };\r\n    \r\n    const loadIntegratedFiles = () => {\r\n      // í†µí•© í´ë”ì˜ íŒŒì¼ ëª©ë¡ (ìˆ˜ë™ìœ¼ë¡œ ì„¤ì •)\r\n      const files = [\r\n        '01_ì´ˆê¸‰ë°˜_ì œ1-10ê³¼.txt',\r\n        '02_ì¤‘ê¸‰ë°˜_ì œ11-25ê³¼.txt', \r\n        '03_ê³ ê¸‰ë°˜_ì œ26-40ê³¼.txt',\r\n        '04_ì‹¤ì „íšŒí™”_ì œ41-50ê³¼.txt',\r\n        '05_íŒ¨í„´_ì œ1-90ê³¼.txt'\r\n      ];\r\n      setIntegratedFiles(files);\r\n      console.log('Integrated files loaded:', files);\r\n    };\r\n    \r\n    loadAllMonths();\r\n    loadIntegratedFiles();\r\n  }, []);\r\n\r\n  // íŽ˜ì´ì§€ ë¡œë“œ ì‹œ ì €ìž¥ëœ ìƒíƒœ ë³µì›\r\n  useEffect(() => {\r\n    const loadSavedState = async () => {\r\n      const savedFolder = localStorage.getItem('lastSelectedFolder');\r\n      const savedMonth = localStorage.getItem('lastSelectedMonth');\r\n      \r\n      if (savedFolder && savedMonth && (savedFolder === 'past' || savedFolder === 'present')) {\r\n        try {\r\n          console.log('Restoring saved state:', savedFolder, savedMonth);\r\n          await loadDataFromFolder(savedFolder, savedMonth);\r\n        } catch (error) {\r\n          console.error('Error restoring saved state:', error);\r\n        }\r\n      }\r\n    };\r\n    \r\n    loadSavedState();\r\n  }, [loadDataFromFolder]);\r\n\r\n  // ë‚ ì§œ ê¸°ë°˜ ë°ì´í„°ì¼ ë•Œ ì €ìž¥ëœ ë‚ ì§œë¡œ ë³µì›\r\n  useEffect(() => {\r\n    if (sentenceData && isDateBased && selectedDate) {\r\n      const selectedDateData = sentenceData.contents\r\n        .filter(isDateBasedContent)\r\n        .find(content => content.date === selectedDate);\r\n      if (selectedDateData) {\r\n        setSentences(selectedDateData.sentences);\r\n      }\r\n    }\r\n  }, [sentenceData, isDateBased, selectedDate]);\r\n\r\n  // ì¹´í…Œê³ ë¦¬ ê¸°ë°˜ ë°ì´í„°ì¼ ë•Œ ì»¨í…ì¸  ì„¹ì…˜ ì„¤ì •\r\n  useEffect(() => {\r\n    if (sentenceData && !isDateBased && selectedCategory) {\r\n      const sections = createContentSections(selectedCategory);\r\n      setContentSections(sections);\r\n      \r\n      const sentencesOnly = sections\r\n        .filter(section => section.type === 'sentence')\r\n        .map(section => section.sentence!)\r\n        .filter(Boolean);\r\n      setSentences(sentencesOnly);\r\n    }\r\n  }, [sentenceData, isDateBased, selectedCategory, createContentSections]);\r\n\r\n\r\n  // ì›” ë³€ê²½ í•¸ë“¤ëŸ¬\r\n  const handleMonthChange = (month: string) => {\r\n    console.log('Month changed to:', month);\r\n    setSelectedMonth(month);\r\n    localStorage.setItem('selectedMonth', month);\r\n    \r\n    // í•´ë‹¹ ì›”ì˜ ì²« ë²ˆì§¸ ë‚ ì§œ ì„ íƒ\r\n    const monthDates = availableFiles.filter(date => date.startsWith(month));\r\n    if (monthDates.length > 0) {\r\n      setSelectedDate(monthDates[0]);\r\n      localStorage.setItem('selectedDate', monthDates[0]);\r\n      // ì—¬ê¸°ì„œ ìƒˆë¡œìš´ ë°ì´í„°ë¥¼ ë¡œë“œí•´ì•¼ í•¨ (í˜„ìž¬ëŠ” 2025-08ë§Œ ìžˆìŒ)\r\n    }\r\n  };\r\n\r\n  // ê³¼ê±° ì›” ì„ íƒ í•¸ë“¤ëŸ¬\r\n  const handlePastMonthChange = async (month: string) => {\r\n    console.log('Past month selected:', month);\r\n    localStorage.setItem('lastSelectedFolder', 'past');\r\n    localStorage.setItem('lastSelectedMonth', month);\r\n    setLastSelectedFolder('past');\r\n    setLastSelectedMonth(month);\r\n    await loadDataFromFolder('past', month);\r\n    setCurrentScreen('recently'); // Stay on recently screen to show study interface\r\n  };\r\n  \r\n  // í˜„ìž¬ ì›” ì„ íƒ í•¸ë“¤ëŸ¬\r\n  const handlePresentMonthChange = async (month: string) => {\r\n    console.log('Present month selected:', month);\r\n    localStorage.setItem('lastSelectedFolder', 'present');\r\n    localStorage.setItem('lastSelectedMonth', month);\r\n    setLastSelectedFolder('present');\r\n    setLastSelectedMonth(month);\r\n    await loadDataFromFolder('present', month);\r\n    setCurrentScreen('recently'); // Stay on recently screen to show study interface\r\n  };\r\n\r\n  // ì¹´í…Œê³ ë¦¬ ë³€ê²½ í•¸ë“¤ëŸ¬\r\n  const handleCategoryChange = (category: string) => {\r\n    console.log('Category changed to:', category);\r\n    setSelectedCategory(category);\r\n    localStorage.setItem('selectedCategory', category);\r\n    \r\n    // ì»¨í…ì¸  ì„¹ì…˜ ìƒì„± (ì„œë¸Œì¹´í…Œê³ ë¦¬ êµ¬ë¶„ì„  í¬í•¨)\r\n    const sections = createContentSections(category);\r\n    setContentSections(sections);\r\n    \r\n    // ê¸°ì¡´ sentencesë„ ì—…ë°ì´íŠ¸ (í˜¸í™˜ì„±ì„ ìœ„í•´ ìœ ì§€)\r\n    const sentencesOnly = sections\r\n      .filter(section => section.type === 'sentence')\r\n      .map(section => section.sentence!)\r\n      .filter(Boolean);\r\n    setSentences(sentencesOnly);\r\n  };\r\n\r\n\r\n  // ë‚ ì§œ ë³€ê²½ í•¸ë“¤ëŸ¬ (ìƒˆë¡œìš´ JSON êµ¬ì¡° ì§€ì›)\r\n  const handleDateChange = (date: string) => {\r\n    console.log('Date changed to:', date);\r\n    setSelectedDate(date);\r\n    localStorage.setItem('selectedDate', date);\r\n    \r\n    // ìƒˆë¡œìš´ JSON êµ¬ì¡°ì—ì„œ dayë¡œ ë°ì´í„° ì°¾ê¸°\r\n    if (sentenceData && sentenceData.contents) {\r\n      const day = parseInt(date.split('-')[2]);\r\n      const dayContent = sentenceData.contents.find((content): content is DayContent => isDayContent(content) && content.day === day);\r\n      \r\n      if (dayContent && dayContent.content) {\r\n        // ì²« ë²ˆì§¸ ì¹´í…Œê³ ë¦¬ë¥¼ ê¸°ë³¸ìœ¼ë¡œ ì„ íƒ\r\n        const firstCategory = dayContent.content[0]?.category || 'ì „ì²´';\r\n        setSelectedCategory(firstCategory);\r\n        localStorage.setItem('selectedCategory', firstCategory);\r\n        \r\n        // í•´ë‹¹ ë‚ ì§œì˜ ëª¨ë“  ë¬¸ìž¥ì„ contentSectionsë¡œ ì„¤ì •\r\n        const sections = createContentSectionsForDay(dayContent);\r\n        setContentSections(sections);\r\n        \r\n        const sentencesOnly = sections\r\n          .filter(section => section.type === 'sentence')\r\n          .map(section => section.sentence!)\r\n          .filter(Boolean);\r\n        setSentences(sentencesOnly);\r\n      } else {\r\n        console.log('No data found for day:', day);\r\n        setSentences([]);\r\n        setContentSections([]);\r\n      }\r\n    }\r\n  };\r\n\r\n\r\n  // ë‹¤í¬ ëª¨ë“œ í† ê¸€\r\n  const toggleDarkMode = () => {\r\n    const newMode = !isDarkMode;\r\n    setIsDarkMode(newMode);\r\n    localStorage.setItem('isDarkMode', JSON.stringify(newMode));\r\n  };\r\n\r\n  if (loading) {\r\n    return (\r\n      <div className=\"app\">\r\n        <div className=\"loading\">ë°ì´í„°ë¥¼ ë¶ˆëŸ¬ì˜¤ëŠ” ì¤‘...</div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  if (error) {\r\n    return (\r\n      <div className=\"app\">\r\n        <div className=\"error-message\">\r\n          ì˜¤ë¥˜: {error}\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  // í™ˆ í™”ë©´ ë Œë”ë§\r\n  const renderHomeScreen = () => (\r\n    <div className=\"home-screen\">\r\n      <header className=\"app-header\">\r\n        <h1 className=\"app-title\">ä¸­æ–‡å­¦ä¹ </h1>\r\n        <button \r\n          className=\"dark-mode-toggle\"\r\n          onClick={toggleDarkMode}\r\n          aria-label=\"ë‹¤í¬ ëª¨ë“œ í† ê¸€\"\r\n        >\r\n          {isDarkMode ? 'â˜€ï¸' : 'ðŸŒ™'}\r\n        </button>\r\n      </header>\r\n      \r\n      <main className=\"main-content\">\r\n        <div className=\"home-buttons\">\r\n          <button \r\n            className=\"data-source-button recently-button\"\r\n            onClick={() => setCurrentScreen('recently')}\r\n          >\r\n            Recently\r\n            <span className=\"button-description\">ìµœê·¼ í•™ìŠµ ë°ì´í„°</span>\r\n          </button>\r\n          \r\n          <button \r\n            className=\"data-source-button integrated-button\"\r\n            onClick={() => setCurrentScreen('integrated')}\r\n          >\r\n            Integrated  \r\n            <span className=\"button-description\">í†µí•© í•™ìŠµ ë°ì´í„°</span>\r\n          </button>\r\n        </div>\r\n      </main>\r\n    </div>\r\n  );\r\n\r\n  // Recently í™”ë©´ ë Œë”ë§\r\n  const renderRecentlyScreen = () => (\r\n    <div className=\"file-selection-screen\">\r\n      <header className=\"app-header\">\r\n        <button \r\n          className=\"back-button\"\r\n          onClick={() => setCurrentScreen('home')}\r\n        >\r\n          â† Back\r\n        </button>\r\n        <h1 className=\"app-title\">Recently Files</h1>\r\n        <button \r\n          className=\"dark-mode-toggle\"\r\n          onClick={toggleDarkMode}\r\n          aria-label=\"ë‹¤í¬ ëª¨ë“œ í† ê¸€\"\r\n        >\r\n          {isDarkMode ? 'â˜€ï¸' : 'ðŸŒ™'}\r\n        </button>\r\n      </header>\r\n      \r\n      <main className=\"main-content\">\r\n        <div className=\"file-grid\">\r\n          <div className=\"file-category\">\r\n            <h2>Past Data</h2>\r\n            <div className=\"file-buttons\">\r\n              {pastMonths.map((month) => (\r\n                <button\r\n                  key={month}\r\n                  className=\"file-button\"\r\n                  onClick={() => handlePastMonthChange(month)}\r\n                >\r\n                  {month}\r\n                </button>\r\n              ))}\r\n            </div>\r\n          </div>\r\n          \r\n          <div className=\"file-category\">\r\n            <h2>Present Data</h2>\r\n            <div className=\"file-buttons\">\r\n              {presentMonths.map((month) => (\r\n                <button\r\n                  key={month}\r\n                  className=\"file-button\"\r\n                  onClick={() => handlePresentMonthChange(month)}\r\n                >\r\n                  {month}\r\n                </button>\r\n              ))}\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </main>\r\n    </div>\r\n  );\r\n\r\n  // Integrated í™”ë©´ ë Œë”ë§\r\n  const renderIntegratedScreen = () => (\r\n    <div className=\"file-selection-screen\">\r\n      <header className=\"app-header\">\r\n        <button \r\n          className=\"back-button\"\r\n          onClick={() => setCurrentScreen('home')}\r\n        >\r\n          â† Back\r\n        </button>\r\n        <h1 className=\"app-title\">Integrated Files</h1>\r\n        <button \r\n          className=\"dark-mode-toggle\"\r\n          onClick={toggleDarkMode}\r\n          aria-label=\"ë‹¤í¬ ëª¨ë“œ í† ê¸€\"\r\n        >\r\n          {isDarkMode ? 'â˜€ï¸' : 'ðŸŒ™'}\r\n        </button>\r\n      </header>\r\n      \r\n      <main className=\"main-content\">\r\n        <div className=\"file-grid\">\r\n          <div className=\"file-category\">\r\n            <h2>í†µí•© í•™ìŠµ ìžë£Œ</h2>\r\n            <div className=\"file-buttons\">\r\n              {integratedFiles.map((file) => (\r\n                <button\r\n                  key={file}\r\n                  className=\"file-button\"\r\n                  onClick={() => {\r\n                    console.log('Selected integrated file:', file);\r\n                    // TODO: í†µí•© íŒŒì¼ ë¡œë”© ë¡œì§ êµ¬í˜„\r\n                  }}\r\n                >\r\n                  {file.replace('.txt', '').replace(/^\\d+_/, '')}\r\n                </button>\r\n              ))}\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </main>\r\n    </div>\r\n  );\r\n\r\n  // í•™ìŠµ í™”ë©´ ë Œë”ë§\r\n  const renderStudyScreen = () => (\r\n    <div className=\"study-screen\">\r\n      <header className=\"app-header\">\r\n        <button \r\n          className=\"back-button\"\r\n          onClick={() => setCurrentScreen(lastSelectedFolder === 'past' || lastSelectedFolder === 'present' ? 'recently' : 'home')}\r\n        >\r\n          â† Back\r\n        </button>\r\n        <h1 className=\"app-title\">ä¸­æ–‡å­¦ä¹ </h1>\r\n        <button \r\n          className=\"dark-mode-toggle\"\r\n          onClick={toggleDarkMode}\r\n          aria-label=\"ë‹¤í¬ ëª¨ë“œ í† ê¸€\"\r\n        >\r\n          {isDarkMode ? 'â˜€ï¸' : 'ðŸŒ™'}\r\n        </button>\r\n      </header>\r\n      \r\n      <Navigation\r\n        availableDates={availableFiles}\r\n        pastMonths={pastMonths}\r\n        presentMonths={presentMonths}\r\n        selectedMonth={selectedMonth}\r\n        selectedDate={selectedDate}\r\n        selectedCategory={selectedCategory}\r\n        sentenceData={sentenceData}\r\n        lastSelectedFolder={lastSelectedFolder}\r\n        lastSelectedMonth={lastSelectedMonth}\r\n        onMonthChange={handleMonthChange}\r\n        onDateChange={handleDateChange}\r\n        onCategoryChange={handleCategoryChange}\r\n        onPastMonthChange={handlePastMonthChange}\r\n        onPresentMonthChange={handlePresentMonthChange}\r\n      />\r\n      \r\n      <main className=\"main-content\">\r\n        <div className=\"sentences-container\">\r\n          {!isDateBased && contentSections.length > 0 ? (\r\n            // ì¹´í…Œê³ ë¦¬ ê¸°ë°˜ ë Œë”ë§ (ì„œë¸Œì¹´í…Œê³ ë¦¬ êµ¬ë¶„ì„  í¬í•¨)\r\n            contentSections.map((section, index) => (\r\n              section.type === 'divider' ? (\r\n                <div key={`divider-${index}`} className=\"subcategory-divider\">\r\n                  <h3>{section.dividerText}</h3>\r\n                </div>\r\n              ) : (\r\n                <SentenceCard\r\n                  key={`sentence-${section.sentence?.id || index}`}\r\n                  sentence={section.sentence!}\r\n                />\r\n              )\r\n            ))\r\n          ) : (\r\n            // ë‚ ì§œ ê¸°ë°˜ ë Œë”ë§ ë˜ëŠ” ë¹ˆ ìƒíƒœ\r\n            sentences.length > 0 ? (\r\n              sentences.map((sentence) => (\r\n                <SentenceCard\r\n                  key={sentence.id}\r\n                  sentence={sentence}\r\n                />\r\n              ))\r\n            ) : (\r\n              <div className=\"no-data\">\r\n                <p>í‘œì‹œí•  ë¬¸ìž¥ì´ ì—†ìŠµë‹ˆë‹¤.</p>\r\n                <p>ë‚ ì§œ ë˜ëŠ” ì¹´í…Œê³ ë¦¬ë¥¼ ì„ íƒí•´ì£¼ì„¸ìš”.</p>\r\n              </div>\r\n            )\r\n          )}\r\n        </div>\r\n      </main>\r\n    </div>\r\n  );\r\n\r\n  // í˜„ìž¬ í™”ë©´ì— ë”°ë¼ ì ì ˆí•œ ì»´í¬ë„ŒíŠ¸ ë Œë”ë§\r\n  const renderCurrentScreen = () => {\r\n    if (currentScreen === 'home') {\r\n      return renderHomeScreen();\r\n    } else if (currentScreen === 'recently') {\r\n      // Recently í™”ë©´ì—ì„œ ë°ì´í„°ê°€ ë¡œë“œë˜ë©´ study í™”ë©´ í‘œì‹œ\r\n      if (sentenceData) {\r\n        return renderStudyScreen();\r\n      }\r\n      return renderRecentlyScreen();\r\n    } else if (currentScreen === 'integrated') {\r\n      // Integrated í™”ë©´ì—ì„œ ë°ì´í„°ê°€ ë¡œë“œë˜ë©´ study í™”ë©´ í‘œì‹œ\r\n      if (sentenceData) {\r\n        return renderStudyScreen();\r\n      }\r\n      return renderIntegratedScreen();\r\n    }\r\n    return renderHomeScreen();\r\n  };\r\n\r\n  return (\r\n    <div className={`app ${isDarkMode ? 'dark-mode' : ''}`}>\r\n      {renderCurrentScreen()}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default App;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}