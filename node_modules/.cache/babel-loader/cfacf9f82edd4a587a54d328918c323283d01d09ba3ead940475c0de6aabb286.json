{"ast":null,"code":"import React,{useState}from'react';import WordCard from'./WordCard';import{jsxs as _jsxs,jsx as _jsx}from\"react/jsx-runtime\";const SentenceCard=_ref=>{let{sentence}=_ref;const[showDetails,setShowDetails]=useState(false);const[showWords,setShowWords]=useState(false);const toggleDetails=()=>{setShowDetails(!showDetails);};const toggleWords=()=>{setShowWords(!showWords);};const playAudio=async event=>{event.stopPropagation();// 부모 클릭 이벤트 방지\nconst text=sentence.sentence;try{// 1. ResponsiveVoice API 시도 (네이버 앱 브라우저 지원)\nif(window.responsiveVoice){window.responsiveVoice.speak(text,\"Chinese Female\",{rate:0.9,pitch:1,volume:1});return;}// 2. Web Speech API 시도\nif('speechSynthesis'in window){const utterance=new SpeechSynthesisUtterance(text);utterance.lang='zh-CN';utterance.rate=0.9;window.speechSynthesis.speak(utterance);return;}// 3. 모든 방법이 실패하면 Google Translate 페이지로 이동\nconst googleTranslateUrl=\"https://translate.google.com/?sl=zh-CN&tl=ko&text=\".concat(encodeURIComponent(text),\"&op=translate\");// 새 창으로 열기 (사용자가 직접 스피커 버튼 클릭 가능)\nconst userConfirmed=window.confirm('Chrome이나 Safari, EDGE에서 접속하세요. 다른 브라우저에서는 음성 재생이 지원되지 않습니다. Google 번역 페이지로 이동하여 음성을 재생하시겠습니까?');if(userConfirmed){window.open(googleTranslateUrl,'_blank');}}catch(error){console.error('Audio playback error:',error);// alert 대신 console.error 사용 (또는 사용자 정의 알림 컴포넌트)\nconsole.error('음성 재생에 실패했습니다. 브라우저를 Chrome이나 Safari로 변경해보세요.');}};return/*#__PURE__*/_jsxs(\"div\",{className:\"sentence-card\",children:[/*#__PURE__*/_jsxs(\"span\",{className:\"sentence-number\",children:[\" \",sentence.id]}),/*#__PURE__*/_jsxs(\"div\",{className:\"chinese-sentence-container\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"chinese-sentence\",onClick:toggleDetails,style:{cursor:'pointer'},children:sentence.sentence}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",className:\"audio-button\",onClick:playAudio,title:\"\\uC74C\\uC131 \\uC7AC\\uC0DD\",children:\"\\uD83D\\uDD0A\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"sentence-details \".concat(showDetails?'expanded':''),children:[/*#__PURE__*/_jsx(\"div\",{className:\"pinyin\",children:sentence.pinyin}),/*#__PURE__*/_jsxs(\"div\",{className:\"meanings\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"meaning-item\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"meaning-label\",children:\"\\uD83C\\uDDF0\\uD83C\\uDDF7 \\uD55C\\uAD6D\\uC5B4\"}),/*#__PURE__*/_jsx(\"div\",{className:\"meaning-text\",children:sentence['meaning-korean']})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"meaning-item\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"meaning-label\",children:\"\\uD83C\\uDDFA\\uD83C\\uDDF8 English\"}),/*#__PURE__*/_jsx(\"div\",{className:\"meaning-text\",children:sentence['meaning-english']})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"words-section\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"words-toggle\",onClick:toggleWords,children:[/*#__PURE__*/_jsxs(\"div\",{className:\"words-title\",children:[\"\\uD83D\\uDCDA \\uB2E8\\uC5B4 \\uD559\\uC2B5 (\",sentence.words.length,\"\\uAC1C)\"]}),/*#__PURE__*/_jsx(\"span\",{className:\"toggle-arrow \".concat(showWords?'expanded':''),children:\"\\u25BC\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"words-content \".concat(showWords?'expanded':''),children:/*#__PURE__*/_jsx(\"div\",{className:\"words-grid\",children:sentence.words.map((word,index)=>/*#__PURE__*/_jsx(WordCard,{word:word},index))})})]})]})]});};export default SentenceCard;","map":{"version":3,"names":["React","useState","WordCard","jsxs","_jsxs","jsx","_jsx","SentenceCard","_ref","sentence","showDetails","setShowDetails","showWords","setShowWords","toggleDetails","toggleWords","playAudio","event","stopPropagation","text","window","responsiveVoice","speak","rate","pitch","volume","utterance","SpeechSynthesisUtterance","lang","speechSynthesis","googleTranslateUrl","concat","encodeURIComponent","userConfirmed","confirm","open","error","console","className","children","id","onClick","style","cursor","type","title","pinyin","words","length","map","word","index"],"sources":["D:/Coding/chinesestudy/src/components/SentenceCard.tsx"],"sourcesContent":["import React, { useState } from 'react';\nimport { Sentence } from '../types';\nimport WordCard from './WordCard';\n\ninterface SentenceCardProps {\n  sentence: Sentence;\n}\n\nconst SentenceCard: React.FC<SentenceCardProps> = ({ sentence }) => {\n  const [showDetails, setShowDetails] = useState(false);\n  const [showWords, setShowWords] = useState(false);\n\n  const toggleDetails = () => {\n    setShowDetails(!showDetails);\n  };\n\n  const toggleWords = () => {\n    setShowWords(!showWords);\n  };\n\n  const playAudio = async (event: React.MouseEvent) => {\n    event.stopPropagation(); // 부모 클릭 이벤트 방지\n    \n    const text = sentence.sentence;\n    \n    try {\n      // 1. ResponsiveVoice API 시도 (네이버 앱 브라우저 지원)\n      if ((window as any).responsiveVoice) {\n        (window as any).responsiveVoice.speak(text, \"Chinese Female\", {\n          rate: 0.9,\n          pitch: 1,\n          volume: 1\n        });\n        return;\n      }\n      \n      // 2. Web Speech API 시도\n      if ('speechSynthesis' in window) {\n        const utterance = new SpeechSynthesisUtterance(text);\n        utterance.lang = 'zh-CN';\n        utterance.rate = 0.9;\n        window.speechSynthesis.speak(utterance);\n        return;\n      }\n      \n      // 3. 모든 방법이 실패하면 Google Translate 페이지로 이동\n      const googleTranslateUrl = `https://translate.google.com/?sl=zh-CN&tl=ko&text=${encodeURIComponent(text)}&op=translate`;\n      \n      // 새 창으로 열기 (사용자가 직접 스피커 버튼 클릭 가능)\n      const userConfirmed = (window as any).confirm('Chrome이나 Safari, EDGE에서 접속하세요. 다른 브라우저에서는 음성 재생이 지원되지 않습니다. Google 번역 페이지로 이동하여 음성을 재생하시겠습니까?');\n      if (userConfirmed) {\n        (window as any).open(googleTranslateUrl, '_blank');\n      }\n      \n    } catch (error) {\n      console.error('Audio playback error:', error);\n      // alert 대신 console.error 사용 (또는 사용자 정의 알림 컴포넌트)\n      console.error('음성 재생에 실패했습니다. 브라우저를 Chrome이나 Safari로 변경해보세요.');\n    }\n  };\n\n  return (\n    <div className=\"sentence-card\">\n      <span className=\"sentence-number\"> {sentence.id}</span>\n      <div className=\"chinese-sentence-container\">\n        <div className=\"chinese-sentence\" onClick={toggleDetails} style={{cursor: 'pointer'}}>\n          {sentence.sentence}\n        </div>\n        <button \n          type=\"button\"\n          className=\"audio-button\" \n          onClick={playAudio}\n          title=\"음성 재생\"\n        >\n          🔊\n        </button>\n      </div>\n      \n      <div className={`sentence-details ${showDetails ? 'expanded' : ''}`}>\n        <div className=\"pinyin\">{sentence.pinyin}</div>\n        \n        <div className=\"meanings\">\n          <div className=\"meaning-item\">\n            <div className=\"meaning-label\">🇰🇷 한국어</div>\n            <div className=\"meaning-text\">{sentence['meaning-korean']}</div>\n          </div>\n          <div className=\"meaning-item\">\n            <div className=\"meaning-label\">🇺🇸 English</div>\n            <div className=\"meaning-text\">{sentence['meaning-english']}</div>\n          </div>\n        </div>\n        \n        <div className=\"words-section\">\n          <div className=\"words-toggle\" onClick={toggleWords}>\n            <div className=\"words-title\">📚 단어 학습 ({sentence.words.length}개)</div>\n            <span className={`toggle-arrow ${showWords ? 'expanded' : ''}`}>\n              ▼\n            </span>\n          </div>\n          <div className={`words-content ${showWords ? 'expanded' : ''}`}>\n            <div className=\"words-grid\">\n              {sentence.words.map((word, index) => (\n                <WordCard key={index} word={word} />\n              ))}\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default SentenceCard;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}