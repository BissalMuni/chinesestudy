{"ast":null,"code":"var _jsxFileName = \"D:\\\\Coding\\\\chinesestudy\\\\src\\\\components\\\\LegacyApp.tsx\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport Navigation from './Navigation';\nimport SentenceCard from './SentenceCard';\nimport { isDateBasedContent, isCategoryContent, isDayContent } from '../types';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst LegacyApp = ({\n  onBackClick,\n  isDarkMode\n}) => {\n  _s();\n  const [sentenceData, setSentenceData] = useState(null);\n  const [availableDates, setAvailableDates] = useState([]);\n  const [pastMonths, setPastMonths] = useState([]);\n  const [presentMonths, setPresentMonths] = useState([]);\n  const [selectedMonth, setSelectedMonth] = useState('');\n  const [selectedDate, setSelectedDate] = useState('');\n  const [selectedCategory, setSelectedCategory] = useState('전체');\n  const [lastSelectedFolder, setLastSelectedFolder] = useState('');\n  const [lastSelectedMonth, setLastSelectedMonth] = useState('');\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState(null);\n\n  // Initialize component - load available months\n  useEffect(() => {\n    const loadAvailableMonths = async () => {\n      try {\n        // Load past months\n        const pastResponse = await fetch('/data/past/manifest.json');\n        if (pastResponse.ok) {\n          const pastManifest = await pastResponse.json();\n          const pastFiles = pastManifest.files || [];\n          const pastMonthList = pastFiles.map(file => file.replace('.json', ''));\n          setPastMonths(pastMonthList);\n        }\n\n        // Load present months\n        const presentResponse = await fetch('/data/present/manifest.json');\n        if (presentResponse.ok) {\n          const presentManifest = await presentResponse.json();\n          const presentFiles = presentManifest.files || [];\n          const presentMonthList = presentFiles.map(file => file.replace('.json', ''));\n          setPresentMonths(presentMonthList);\n        }\n      } catch (error) {\n        console.error('Failed to load manifests:', error);\n      }\n    };\n    loadAvailableMonths();\n  }, []);\n\n  // Set default month when months are loaded\n  useEffect(() => {\n    if (presentMonths.length > 0 && !selectedMonth) {\n      const latestMonth = [...presentMonths].sort().pop() || '';\n      setSelectedMonth(latestMonth);\n      handlePresentMonthChange(latestMonth);\n    } else if (pastMonths.length > 0 && presentMonths.length === 0 && !selectedMonth) {\n      const latestMonth = [...pastMonths].sort().pop() || '';\n      setSelectedMonth(latestMonth);\n      handlePastMonthChange(latestMonth);\n    }\n  }, [presentMonths, pastMonths, selectedMonth]);\n  const handlePastMonthChange = async month => {\n    await loadMonthData(month, 'past');\n    setLastSelectedFolder('past');\n    setLastSelectedMonth(month);\n  };\n  const handlePresentMonthChange = async month => {\n    await loadMonthData(month, 'present');\n    setLastSelectedFolder('present');\n    setLastSelectedMonth(month);\n  };\n  const loadMonthData = async (month, folder) => {\n    setLoading(true);\n    setError(null);\n    try {\n      const response = await fetch(`/data/${folder}/${month}.json`);\n      if (!response.ok) {\n        throw new Error(`Failed to load data for ${month}`);\n      }\n      const data = await response.json();\n      setSentenceData(data);\n      setSelectedMonth(month);\n\n      // Extract available dates\n      const dates = [];\n      data.contents.forEach(content => {\n        if (isDateBasedContent(content)) {\n          dates.push(content.date);\n        } else if (isDayContent(content)) {\n          // Keep month format as-is for date generation\n          dates.push(`${month}-${String(content.day).padStart(2, '0')}`);\n        }\n      });\n      console.log('Extracted dates:', dates);\n      setAvailableDates(dates.sort());\n\n      // Set first available date as selected\n      if (dates.length > 0) {\n        console.log('Setting selected date to:', dates[0]);\n        setSelectedDate(dates[0]);\n      }\n      setSelectedCategory('전체');\n    } catch (error) {\n      console.error('Error loading month data:', error);\n      setError(`Failed to load data for ${month}`);\n    } finally {\n      setLoading(false);\n    }\n  };\n  const handleMonthChange = month => {\n    if (pastMonths.includes(month)) {\n      handlePastMonthChange(month);\n    } else {\n      handlePresentMonthChange(month);\n    }\n  };\n  const handleDateChange = date => {\n    setSelectedDate(date);\n    setSelectedCategory('전체');\n  };\n  const handleCategoryChange = category => {\n    setSelectedCategory(category);\n  };\n\n  // Get sentences for display\n  const getDisplaySentences = () => {\n    if (!sentenceData) {\n      console.log('No sentence data available');\n      return [];\n    }\n    console.log('Getting display sentences for:', {\n      selectedDate,\n      selectedCategory\n    });\n    console.log('Sentence data contents:', sentenceData.contents);\n    const sections = [];\n\n    // Find the content for the selected date\n    const dateParts = selectedDate ? selectedDate.split('-') : [];\n    console.log('Date parts:', dateParts);\n    const selectedDay = dateParts.length >= 3 ? parseInt(dateParts[2]) : dateParts.length === 2 ? parseInt(dateParts[1]) : 1;\n    console.log('Selected day:', selectedDay);\n    sentenceData.contents.forEach((content, index) => {\n      console.log(`Content ${index}:`, content);\n      if (isDateBasedContent(content) && content.date === selectedDate) {\n        // Old date-based format\n        content.sentences.forEach(sentence => {\n          sections.push({\n            type: 'sentence',\n            sentence\n          });\n        });\n      } else if (isDayContent(content) && content.day === selectedDay) {\n        // New day-based format with categories\n        content.content.forEach(categoryContent => {\n          if (selectedCategory === '전체' || categoryContent.category === selectedCategory) {\n            categoryContent.subcategories.forEach(subcategory => {\n              if (subcategory.subcategory) {\n                sections.push({\n                  type: 'divider',\n                  dividerText: subcategory.subcategory\n                });\n              }\n              subcategory.sentences.forEach(sentence => {\n                sections.push({\n                  type: 'sentence',\n                  sentence\n                });\n              });\n            });\n          }\n        });\n      } else if (isCategoryContent(content)) {\n        // Category-based format\n        if (selectedCategory === '전체' || content.category === selectedCategory) {\n          content.subcategories.forEach(subcategory => {\n            if (subcategory.subcategory) {\n              sections.push({\n                type: 'divider',\n                dividerText: subcategory.subcategory\n              });\n            }\n            subcategory.sentences.forEach(sentence => {\n              sections.push({\n                type: 'sentence',\n                sentence\n              });\n            });\n          });\n        }\n      }\n    });\n    return sections;\n  };\n  const displaySections = getDisplaySentences();\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: `app ${isDarkMode ? 'dark-mode' : ''}`,\n    children: [/*#__PURE__*/_jsxDEV(\"header\", {\n      className: \"app-header\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"header-title\",\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: onBackClick,\n          className: \"back-button\",\n          children: \"\\uD83D\\uDD19\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 209,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"h1\", {\n          children: \"\\uC911\\uAD6D\\uC5B4 \\uD559\\uC2B5\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 212,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 208,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 207,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Navigation, {\n      availableDates: availableDates,\n      pastMonths: pastMonths,\n      presentMonths: presentMonths,\n      selectedMonth: selectedMonth,\n      selectedDate: selectedDate,\n      selectedCategory: selectedCategory,\n      sentenceData: sentenceData,\n      lastSelectedFolder: lastSelectedFolder,\n      lastSelectedMonth: lastSelectedMonth,\n      onMonthChange: handleMonthChange,\n      onDateChange: handleDateChange,\n      onCategoryChange: handleCategoryChange,\n      onPastMonthChange: handlePastMonthChange,\n      onPresentMonthChange: handlePresentMonthChange\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 217,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"main\", {\n      className: \"content\",\n      children: [loading && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"loading\",\n        children: \"\\uB370\\uC774\\uD130\\uB97C \\uBD88\\uB7EC\\uC624\\uB294 \\uC911...\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 237,\n        columnNumber: 11\n      }, this), error && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"error\",\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          children: \"\\uC624\\uB958\\uAC00 \\uBC1C\\uC0DD\\uD588\\uC2B5\\uB2C8\\uB2E4\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 242,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: error\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 243,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 241,\n        columnNumber: 11\n      }, this), !loading && !error && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"content-container\",\n        children: displaySections.length === 0 ? /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"loading\",\n          children: \"\\uC120\\uD0DD\\uB41C \\uB0A0\\uC9DC\\uC5D0 \\uB370\\uC774\\uD130\\uAC00 \\uC5C6\\uC2B5\\uB2C8\\uB2E4.\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 250,\n          columnNumber: 15\n        }, this) : displaySections.map((section, index) => {\n          var _section$sentence;\n          return section.type === 'divider' ? /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"subcategory-divider\",\n            children: /*#__PURE__*/_jsxDEV(\"h3\", {\n              children: section.dividerText\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 255,\n              columnNumber: 21\n            }, this)\n          }, index, false, {\n            fileName: _jsxFileName,\n            lineNumber: 254,\n            columnNumber: 19\n          }, this) : /*#__PURE__*/_jsxDEV(SentenceCard, {\n            sentence: section.sentence\n          }, `${(_section$sentence = section.sentence) === null || _section$sentence === void 0 ? void 0 : _section$sentence.id}-${index}`, false, {\n            fileName: _jsxFileName,\n            lineNumber: 258,\n            columnNumber: 19\n          }, this);\n        })\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 248,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 235,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 205,\n    columnNumber: 5\n  }, this);\n};\n_s(LegacyApp, \"2u9gMn8k+KVCx9ODZCOYf0is7HQ=\");\n_c = LegacyApp;\nexport default LegacyApp;\nvar _c;\n$RefreshReg$(_c, \"LegacyApp\");","map":{"version":3,"names":["React","useState","useEffect","Navigation","SentenceCard","isDateBasedContent","isCategoryContent","isDayContent","jsxDEV","_jsxDEV","LegacyApp","onBackClick","isDarkMode","_s","sentenceData","setSentenceData","availableDates","setAvailableDates","pastMonths","setPastMonths","presentMonths","setPresentMonths","selectedMonth","setSelectedMonth","selectedDate","setSelectedDate","selectedCategory","setSelectedCategory","lastSelectedFolder","setLastSelectedFolder","lastSelectedMonth","setLastSelectedMonth","loading","setLoading","error","setError","loadAvailableMonths","pastResponse","fetch","ok","pastManifest","json","pastFiles","files","pastMonthList","map","file","replace","presentResponse","presentManifest","presentFiles","presentMonthList","console","length","latestMonth","sort","pop","handlePresentMonthChange","handlePastMonthChange","month","loadMonthData","folder","response","Error","data","dates","contents","forEach","content","push","date","String","day","padStart","log","handleMonthChange","includes","handleDateChange","handleCategoryChange","category","getDisplaySentences","sections","dateParts","split","selectedDay","parseInt","index","sentences","sentence","type","categoryContent","subcategories","subcategory","dividerText","displaySections","className","children","onClick","fileName","_jsxFileName","lineNumber","columnNumber","onMonthChange","onDateChange","onCategoryChange","onPastMonthChange","onPresentMonthChange","section","_section$sentence","id","_c","$RefreshReg$"],"sources":["D:/Coding/chinesestudy/src/components/LegacyApp.tsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport Navigation from './Navigation';\nimport SentenceCard from './SentenceCard';\nimport WordCard from './WordCard';\nimport { SentenceData, ContentSection, isDateBasedContent, isCategoryContent, isDayContent, Sentence } from '../types';\n\ninterface LegacyAppProps {\n  onBackClick: () => void;\n  isDarkMode: boolean;\n}\n\nconst LegacyApp: React.FC<LegacyAppProps> = ({ onBackClick, isDarkMode }) => {\n  const [sentenceData, setSentenceData] = useState<SentenceData | null>(null);\n  const [availableDates, setAvailableDates] = useState<string[]>([]);\n  const [pastMonths, setPastMonths] = useState<string[]>([]);\n  const [presentMonths, setPresentMonths] = useState<string[]>([]);\n  const [selectedMonth, setSelectedMonth] = useState<string>('');\n  const [selectedDate, setSelectedDate] = useState<string>('');\n  const [selectedCategory, setSelectedCategory] = useState<string>('전체');\n  const [lastSelectedFolder, setLastSelectedFolder] = useState<string>('');\n  const [lastSelectedMonth, setLastSelectedMonth] = useState<string>('');\n  const [loading, setLoading] = useState<boolean>(false);\n  const [error, setError] = useState<string | null>(null);\n\n  // Initialize component - load available months\n  useEffect(() => {\n    const loadAvailableMonths = async () => {\n      try {\n        // Load past months\n        const pastResponse = await fetch('/data/past/manifest.json');\n        if (pastResponse.ok) {\n          const pastManifest = await pastResponse.json();\n          const pastFiles = pastManifest.files || [];\n          const pastMonthList = pastFiles.map((file: string) => file.replace('.json', ''));\n          setPastMonths(pastMonthList);\n        }\n\n        // Load present months\n        const presentResponse = await fetch('/data/present/manifest.json');\n        if (presentResponse.ok) {\n          const presentManifest = await presentResponse.json();\n          const presentFiles = presentManifest.files || [];\n          const presentMonthList = presentFiles.map((file: string) => file.replace('.json', ''));\n          setPresentMonths(presentMonthList);\n        }\n      } catch (error) {\n        console.error('Failed to load manifests:', error);\n      }\n    };\n\n    loadAvailableMonths();\n  }, []);\n\n  // Set default month when months are loaded\n  useEffect(() => {\n    if (presentMonths.length > 0 && !selectedMonth) {\n      const latestMonth = [...presentMonths].sort().pop() || '';\n      setSelectedMonth(latestMonth);\n      handlePresentMonthChange(latestMonth);\n    } else if (pastMonths.length > 0 && presentMonths.length === 0 && !selectedMonth) {\n      const latestMonth = [...pastMonths].sort().pop() || '';\n      setSelectedMonth(latestMonth);\n      handlePastMonthChange(latestMonth);\n    }\n  }, [presentMonths, pastMonths, selectedMonth]);\n\n  const handlePastMonthChange = async (month: string) => {\n    await loadMonthData(month, 'past');\n    setLastSelectedFolder('past');\n    setLastSelectedMonth(month);\n  };\n\n  const handlePresentMonthChange = async (month: string) => {\n    await loadMonthData(month, 'present');\n    setLastSelectedFolder('present');\n    setLastSelectedMonth(month);\n  };\n\n  const loadMonthData = async (month: string, folder: string) => {\n    setLoading(true);\n    setError(null);\n    \n    try {\n      const response = await fetch(`/data/${folder}/${month}.json`);\n      if (!response.ok) {\n        throw new Error(`Failed to load data for ${month}`);\n      }\n      \n      const data: SentenceData = await response.json();\n      setSentenceData(data);\n      setSelectedMonth(month);\n      \n      // Extract available dates\n      const dates: string[] = [];\n      data.contents.forEach(content => {\n        if (isDateBasedContent(content)) {\n          dates.push(content.date);\n        } else if (isDayContent(content)) {\n          // Keep month format as-is for date generation\n          dates.push(`${month}-${String(content.day).padStart(2, '0')}`);\n        }\n      });\n      \n      console.log('Extracted dates:', dates);\n      setAvailableDates(dates.sort());\n      \n      // Set first available date as selected\n      if (dates.length > 0) {\n        console.log('Setting selected date to:', dates[0]);\n        setSelectedDate(dates[0]);\n      }\n      \n      setSelectedCategory('전체');\n    } catch (error) {\n      console.error('Error loading month data:', error);\n      setError(`Failed to load data for ${month}`);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const handleMonthChange = (month: string) => {\n    if (pastMonths.includes(month)) {\n      handlePastMonthChange(month);\n    } else {\n      handlePresentMonthChange(month);\n    }\n  };\n\n  const handleDateChange = (date: string) => {\n    setSelectedDate(date);\n    setSelectedCategory('전체');\n  };\n\n  const handleCategoryChange = (category: string) => {\n    setSelectedCategory(category);\n  };\n\n  // Get sentences for display\n  const getDisplaySentences = (): ContentSection[] => {\n    if (!sentenceData) {\n      console.log('No sentence data available');\n      return [];\n    }\n\n    console.log('Getting display sentences for:', { selectedDate, selectedCategory });\n    console.log('Sentence data contents:', sentenceData.contents);\n\n    const sections: ContentSection[] = [];\n    \n    // Find the content for the selected date\n    const dateParts = selectedDate ? selectedDate.split('-') : [];\n    console.log('Date parts:', dateParts);\n    const selectedDay = dateParts.length >= 3 ? parseInt(dateParts[2]) : (dateParts.length === 2 ? parseInt(dateParts[1]) : 1);\n    console.log('Selected day:', selectedDay);\n    \n    sentenceData.contents.forEach((content, index) => {\n      console.log(`Content ${index}:`, content);\n      if (isDateBasedContent(content) && content.date === selectedDate) {\n        // Old date-based format\n        content.sentences.forEach(sentence => {\n          sections.push({ type: 'sentence', sentence });\n        });\n      } else if (isDayContent(content) && content.day === selectedDay) {\n        // New day-based format with categories\n        content.content.forEach(categoryContent => {\n          if (selectedCategory === '전체' || categoryContent.category === selectedCategory) {\n            categoryContent.subcategories.forEach(subcategory => {\n              if (subcategory.subcategory) {\n                sections.push({ \n                  type: 'divider', \n                  dividerText: subcategory.subcategory \n                });\n              }\n              subcategory.sentences.forEach(sentence => {\n                sections.push({ type: 'sentence', sentence });\n              });\n            });\n          }\n        });\n      } else if (isCategoryContent(content)) {\n        // Category-based format\n        if (selectedCategory === '전체' || content.category === selectedCategory) {\n          content.subcategories.forEach(subcategory => {\n            if (subcategory.subcategory) {\n              sections.push({ \n                type: 'divider', \n                dividerText: subcategory.subcategory \n              });\n            }\n            subcategory.sentences.forEach(sentence => {\n              sections.push({ type: 'sentence', sentence });\n            });\n          });\n        }\n      }\n    });\n\n    return sections;\n  };\n\n  const displaySections = getDisplaySentences();\n\n  return (\n    <div className={`app ${isDarkMode ? 'dark-mode' : ''}`}>\n      {/* Header */}\n      <header className=\"app-header\">\n        <div className=\"header-title\">\n          <button onClick={onBackClick} className=\"back-button\">\n            🔙\n          </button>\n          <h1>중국어 학습</h1>\n        </div>\n      </header>\n\n      {/* Navigation */}\n      <Navigation\n        availableDates={availableDates}\n        pastMonths={pastMonths}\n        presentMonths={presentMonths}\n        selectedMonth={selectedMonth}\n        selectedDate={selectedDate}\n        selectedCategory={selectedCategory}\n        sentenceData={sentenceData}\n        lastSelectedFolder={lastSelectedFolder}\n        lastSelectedMonth={lastSelectedMonth}\n        onMonthChange={handleMonthChange}\n        onDateChange={handleDateChange}\n        onCategoryChange={handleCategoryChange}\n        onPastMonthChange={handlePastMonthChange}\n        onPresentMonthChange={handlePresentMonthChange}\n      />\n\n      {/* Content */}\n      <main className=\"content\">\n        {loading && (\n          <div className=\"loading\">데이터를 불러오는 중...</div>\n        )}\n        \n        {error && (\n          <div className=\"error\">\n            <h2>오류가 발생했습니다</h2>\n            <p>{error}</p>\n          </div>\n        )}\n        \n        {!loading && !error && (\n          <div className=\"content-container\">\n            {displaySections.length === 0 ? (\n              <div className=\"loading\">선택된 날짜에 데이터가 없습니다.</div>\n            ) : (\n              displaySections.map((section, index) => (\n                section.type === 'divider' ? (\n                  <div key={index} className=\"subcategory-divider\">\n                    <h3>{section.dividerText}</h3>\n                  </div>\n                ) : (\n                  <SentenceCard \n                    key={`${section.sentence?.id}-${index}`} \n                    sentence={section.sentence!} \n                  />\n                )\n              ))\n            )}\n          </div>\n        )}\n      </main>\n    </div>\n  );\n};\n\nexport default LegacyApp;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}