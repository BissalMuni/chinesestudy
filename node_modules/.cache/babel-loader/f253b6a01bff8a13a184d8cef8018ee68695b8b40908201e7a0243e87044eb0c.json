{"ast":null,"code":"var _jsxFileName = \"D:\\\\Coding\\\\chinesestudy\\\\src\\\\App.tsx\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect, useCallback } from 'react';\nimport Navigation from './components/Navigation';\nimport SentenceCard from './components/SentenceCard';\nimport { isDateBasedContent, isCategoryContent } from './types';\nimport './styles/App.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst App = () => {\n  _s();\n  const [availableFiles, setAvailableFiles] = useState([]);\n  const [pastMonths, setPastMonths] = useState([]);\n  const [presentMonths, setPresentMonths] = useState([]);\n  const [selectedMonth, setSelectedMonth] = useState(() => {\n    return localStorage.getItem('selectedMonth') || '2025-08';\n  });\n  const [selectedDate, setSelectedDate] = useState(() => {\n    return localStorage.getItem('selectedDate') || '2025-08-07';\n  });\n  const [selectedCategory, setSelectedCategory] = useState(() => {\n    return localStorage.getItem('selectedCategory') || '';\n  });\n  const [selectedSubcategory] = useState(''); // eslint-disable-line @typescript-eslint/no-unused-vars\n  const [lastSelectedFolder, setLastSelectedFolder] = useState(() => {\n    return localStorage.getItem('lastSelectedFolder') || '';\n  });\n  const [lastSelectedMonth, setLastSelectedMonth] = useState(() => {\n    return localStorage.getItem('lastSelectedMonth') || '';\n  });\n  const [sentenceData, setSentenceData] = useState(null);\n  const [sentences, setSentences] = useState([]);\n  const [contentSections, setContentSections] = useState([]);\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState('');\n  const [isDarkMode, setIsDarkMode] = useState(() => {\n    const saved = localStorage.getItem('isDarkMode');\n    return saved ? JSON.parse(saved) : false;\n  });\n  const [isDateBased, setIsDateBased] = useState(() => {\n    const saved = localStorage.getItem('isDateBased');\n    return saved ? JSON.parse(saved) : false;\n  });\n\n  // 폴더에서 데이터 로드하는 공통 함수\n  const loadDataFromFolder = useCallback(async (folder, month) => {\n    setLoading(true);\n    setError('');\n    try {\n      // 폴더에서 데이터 로드 (202201.json 형식)\n      const monthCode = month.replace('-', '');\n      const response = await fetch(`/data/${folder}/${monthCode}.json`);\n      if (!response.ok) {\n        throw new Error(`HTTP error! status: ${response.status}`);\n      }\n      const data = await response.json();\n      console.log(`${folder} data loaded successfully:`, data);\n      if (!data || !data.contents || !Array.isArray(data.contents) || data.contents.length === 0) {\n        throw new Error('Invalid data structure');\n      }\n      setSentenceData(data);\n\n      // Check format and set initial data\n      const firstContent = data.contents[0];\n      if (isDateBasedContent(firstContent)) {\n        setIsDateBased(true);\n        localStorage.setItem('isDateBased', JSON.stringify(true));\n        setSentences(firstContent.sentences);\n        const actualDates = data.contents.filter(isDateBasedContent).map(content => content.date);\n        setAvailableFiles(actualDates);\n        if (actualDates.length > 0) {\n          setSelectedMonth(month);\n          localStorage.setItem('selectedMonth', month);\n          const savedDate = localStorage.getItem('selectedDate');\n          const dateToSelect = savedDate && actualDates.includes(savedDate) ? savedDate : actualDates[0];\n          setSelectedDate(dateToSelect);\n          localStorage.setItem('selectedDate', dateToSelect);\n        }\n      } else if (isCategoryContent(firstContent)) {\n        setIsDateBased(false);\n        localStorage.setItem('isDateBased', JSON.stringify(false));\n        const savedCategory = localStorage.getItem('selectedCategory') || '전체';\n        setSelectedCategory(savedCategory);\n        localStorage.setItem('selectedCategory', savedCategory);\n        // createContentSections will be called in a separate useEffect\n      }\n    } catch (err) {\n      console.error(`Error loading ${folder} data:`, err);\n      setError(err instanceof Error ? err.message : `${folder} 데이터를 불러올 수 없습니다.`);\n      setSentences([]);\n    } finally {\n      setLoading(false);\n    }\n  }, []);\n\n  // 컨텐츠 섹션 생성 (서브카테고리 구분선 포함)\n  const createContentSections = useCallback(category => {\n    if (!sentenceData || !sentenceData.contents) return [];\n    const sections = [];\n    let idCounter = 1;\n    if (category === '전체') {\n      // 전체 선택 시 모든 카테고리와 서브카테고리 표시\n      sentenceData.contents.filter(isCategoryContent).forEach(categoryContent => {\n        // 카테고리 구분선\n        sections.push({\n          type: 'divider',\n          dividerText: categoryContent.category\n        });\n        categoryContent.subcategories.forEach(subcategory => {\n          // 서브카테고리 구분선\n          sections.push({\n            type: 'divider',\n            dividerText: subcategory.subcategory\n          });\n\n          // 문장들\n          subcategory.sentences.forEach(sentence => {\n            sections.push({\n              type: 'sentence',\n              sentence: {\n                ...sentence,\n                id: idCounter++\n              }\n            });\n          });\n        });\n      });\n    } else {\n      // 특정 카테고리 선택 시\n      const categoryData = sentenceData.contents.filter(isCategoryContent).find(content => content.category === category);\n      if (categoryData) {\n        categoryData.subcategories.forEach(subcategory => {\n          // 서브카테고리 구분선\n          sections.push({\n            type: 'divider',\n            dividerText: subcategory.subcategory\n          });\n\n          // 문장들\n          subcategory.sentences.forEach(sentence => {\n            sections.push({\n              type: 'sentence',\n              sentence: {\n                ...sentence,\n                id: idCounter++\n              }\n            });\n          });\n        });\n      }\n    }\n    return sections;\n  }, [sentenceData]);\n\n  // 과거 및 현재 월 목록 로드\n  useEffect(() => {\n    const loadAllMonths = async () => {\n      try {\n        // 과거 파일 목록 로드\n        const pastManifestResponse = await fetch('/data/past/manifest.json');\n        if (pastManifestResponse.ok) {\n          const pastManifest = await pastManifestResponse.json();\n          const pastFiles = pastManifest.files || [];\n\n          // 파일명에서 월 정보 추출 (202201.json -> 2022-01)\n          const pastMonths = pastFiles.map(filename => {\n            const match = filename.match(/(\\d{4})(\\d{2})\\.json/);\n            if (match) {\n              return `${match[1]}-${match[2]}`;\n            }\n            return null;\n          }).filter(Boolean);\n          setPastMonths(pastMonths);\n          console.log('Past months loaded:', pastMonths);\n        }\n\n        // 현재 파일 목록 로드\n        const presentManifestResponse = await fetch('/data/present/manifest.json');\n        if (presentManifestResponse.ok) {\n          const presentManifest = await presentManifestResponse.json();\n          const presentFiles = presentManifest.files || [];\n\n          // 파일명에서 월 정보 추출 (202508.json -> 2025-08)\n          const presentMonths = presentFiles.map(filename => {\n            const match = filename.match(/(\\d{4})(\\d{2})\\.json/);\n            if (match) {\n              return `${match[1]}-${match[2]}`;\n            }\n            return null;\n          }).filter(Boolean);\n          setPresentMonths(presentMonths);\n          console.log('Present months loaded:', presentMonths);\n        }\n      } catch (err) {\n        console.error('Error loading months:', err);\n      }\n    };\n    loadAllMonths();\n  }, []);\n\n  // 페이지 로드 시 저장된 상태 복원\n  useEffect(() => {\n    const loadSavedState = async () => {\n      const savedFolder = localStorage.getItem('lastSelectedFolder');\n      const savedMonth = localStorage.getItem('lastSelectedMonth');\n      if (savedFolder && savedMonth && (savedFolder === 'past' || savedFolder === 'present')) {\n        try {\n          console.log('Restoring saved state:', savedFolder, savedMonth);\n          await loadDataFromFolder(savedFolder, savedMonth);\n        } catch (error) {\n          console.error('Error restoring saved state:', error);\n        }\n      }\n    };\n    loadSavedState();\n  }, [loadDataFromFolder]);\n\n  // 날짜 기반 데이터일 때 저장된 날짜로 복원\n  useEffect(() => {\n    if (sentenceData && isDateBased && selectedDate) {\n      const selectedDateData = sentenceData.contents.filter(isDateBasedContent).find(content => content.date === selectedDate);\n      if (selectedDateData) {\n        setSentences(selectedDateData.sentences);\n      }\n    }\n  }, [sentenceData, isDateBased, selectedDate]);\n\n  // 카테고리 기반 데이터일 때 컨텐츠 섹션 설정\n  useEffect(() => {\n    if (sentenceData && !isDateBased && selectedCategory) {\n      const sections = createContentSections(selectedCategory);\n      setContentSections(sections);\n      const sentencesOnly = sections.filter(section => section.type === 'sentence').map(section => section.sentence).filter(Boolean);\n      setSentences(sentencesOnly);\n    }\n  }, [sentenceData, isDateBased, selectedCategory, createContentSections]);\n\n  // 월 변경 핸들러\n  const handleMonthChange = month => {\n    console.log('Month changed to:', month);\n    setSelectedMonth(month);\n    localStorage.setItem('selectedMonth', month);\n\n    // 해당 월의 첫 번째 날짜 선택\n    const monthDates = availableFiles.filter(date => date.startsWith(month));\n    if (monthDates.length > 0) {\n      setSelectedDate(monthDates[0]);\n      localStorage.setItem('selectedDate', monthDates[0]);\n      // 여기서 새로운 데이터를 로드해야 함 (현재는 2025-08만 있음)\n    }\n  };\n\n  // 과거 월 선택 핸들러\n  const handlePastMonthChange = async month => {\n    console.log('Past month selected:', month);\n    localStorage.setItem('lastSelectedFolder', 'past');\n    localStorage.setItem('lastSelectedMonth', month);\n    setLastSelectedFolder('past');\n    setLastSelectedMonth(month);\n    await loadDataFromFolder('past', month);\n  };\n\n  // 현재 월 선택 핸들러\n  const handlePresentMonthChange = async month => {\n    console.log('Present month selected:', month);\n    localStorage.setItem('lastSelectedFolder', 'present');\n    localStorage.setItem('lastSelectedMonth', month);\n    setLastSelectedFolder('present');\n    setLastSelectedMonth(month);\n    await loadDataFromFolder('present', month);\n  };\n\n  // 카테고리 변경 핸들러\n  const handleCategoryChange = category => {\n    console.log('Category changed to:', category);\n    setSelectedCategory(category);\n    localStorage.setItem('selectedCategory', category);\n\n    // 컨텐츠 섹션 생성 (서브카테고리 구분선 포함)\n    const sections = createContentSections(category);\n    setContentSections(sections);\n\n    // 기존 sentences도 업데이트 (호환성을 위해 유지)\n    const sentencesOnly = sections.filter(section => section.type === 'sentence').map(section => section.sentence).filter(Boolean);\n    setSentences(sentencesOnly);\n  };\n\n  // 날짜 변경 핸들러\n  const handleDateChange = date => {\n    console.log('Date changed to:', date);\n    setSelectedDate(date);\n    localStorage.setItem('selectedDate', date);\n\n    // 선택된 날짜에 해당하는 문장 데이터 찾기\n    if (sentenceData && sentenceData.contents) {\n      const selectedDateData = sentenceData.contents.filter(isDateBasedContent).find(content => content.date === date);\n      if (selectedDateData) {\n        console.log('Found data for date:', date, selectedDateData);\n        setSentences(selectedDateData.sentences);\n      } else {\n        console.log('No data found for date:', date);\n        setSentences([]);\n      }\n    }\n  };\n\n  // 다크 모드 토글\n  const toggleDarkMode = () => {\n    const newMode = !isDarkMode;\n    setIsDarkMode(newMode);\n    localStorage.setItem('isDarkMode', JSON.stringify(newMode));\n  };\n  if (loading) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"app\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"loading\",\n        children: \"\\uB370\\uC774\\uD130\\uB97C \\uBD88\\uB7EC\\uC624\\uB294 \\uC911...\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 347,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 346,\n      columnNumber: 7\n    }, this);\n  }\n  if (error) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"app\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"error\",\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          children: \"\\uC624\\uB958 \\uBC1C\\uC0DD\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 356,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: error\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 357,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: \"\\uBE0C\\uB77C\\uC6B0\\uC800 \\uCF58\\uC194(F12)\\uC744 \\uD655\\uC778\\uD574\\uC8FC\\uC138\\uC694.\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 358,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 355,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 354,\n      columnNumber: 7\n    }, this);\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: `app ${isDarkMode ? 'dark-mode' : ''}`,\n    children: [/*#__PURE__*/_jsxDEV(\"header\", {\n      className: \"app-header\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"header-title\",\n        children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n          children: \"\\uC9C4\\uCC28\\uC774\\uB9B0 \\uC911\\uAD6D\\uC5B4\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 368,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          type: \"button\",\n          className: \"theme-toggle\",\n          onClick: toggleDarkMode,\n          title: isDarkMode ? \"라이트 모드로 변경\" : \"다크 모드로 변경\",\n          children: isDarkMode ? '☀️' : '💡'\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 369,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 367,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 366,\n      columnNumber: 7\n    }, this), (availableFiles.length > 0 || sentenceData || pastMonths.length > 0 || presentMonths.length > 0) && /*#__PURE__*/_jsxDEV(Navigation, {\n      availableDates: availableFiles,\n      pastMonths: pastMonths,\n      presentMonths: presentMonths,\n      selectedMonth: selectedMonth,\n      selectedDate: selectedDate,\n      selectedCategory: selectedCategory,\n      sentenceData: sentenceData,\n      isDateBased: isDateBased,\n      lastSelectedFolder: lastSelectedFolder,\n      lastSelectedMonth: lastSelectedMonth,\n      onMonthChange: handleMonthChange,\n      onDateChange: handleDateChange,\n      onCategoryChange: handleCategoryChange,\n      onPastMonthChange: handlePastMonthChange,\n      onPresentMonthChange: handlePresentMonthChange\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 382,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"main\", {\n      className: \"content\",\n      children: contentSections.length > 0 ? /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"content-container\",\n        children: contentSections.map((section, index) => section.type === 'divider' ? /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"subcategory-divider\",\n          children: /*#__PURE__*/_jsxDEV(\"h3\", {\n            children: section.dividerText\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 407,\n            columnNumber: 19\n          }, this)\n        }, `divider-${index}`, false, {\n          fileName: _jsxFileName,\n          lineNumber: 406,\n          columnNumber: 17\n        }, this) : section.sentence && /*#__PURE__*/_jsxDEV(SentenceCard, {\n          sentence: section.sentence\n        }, section.sentence.id, false, {\n          fileName: _jsxFileName,\n          lineNumber: 411,\n          columnNumber: 19\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 403,\n        columnNumber: 11\n      }, this) : sentences.length > 0 ? /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"sentences-container\",\n        children: sentences.map(sentence => /*#__PURE__*/_jsxDEV(SentenceCard, {\n          sentence: sentence\n        }, sentence.id, false, {\n          fileName: _jsxFileName,\n          lineNumber: 419,\n          columnNumber: 15\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 417,\n        columnNumber: 11\n      }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"error\",\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          children: \"\\uD658\\uC601\\uD569\\uB2C8\\uB2E4!\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 424,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: \"\\uC704\\uC5D0\\uC11C \\uD559\\uC2B5\\uD560 \\uC790\\uB8CC\\uB97C \\uC120\\uD0DD\\uD574\\uC8FC\\uC138\\uC694.\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 425,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 423,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 401,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 365,\n    columnNumber: 5\n  }, this);\n};\n_s(App, \"nOqC9b0iAemCgyKN/bJN5hrGJJU=\");\n_c = App;\nexport default App;\nvar _c;\n$RefreshReg$(_c, \"App\");","map":{"version":3,"names":["React","useState","useEffect","useCallback","Navigation","SentenceCard","isDateBasedContent","isCategoryContent","jsxDEV","_jsxDEV","App","_s","availableFiles","setAvailableFiles","pastMonths","setPastMonths","presentMonths","setPresentMonths","selectedMonth","setSelectedMonth","localStorage","getItem","selectedDate","setSelectedDate","selectedCategory","setSelectedCategory","selectedSubcategory","lastSelectedFolder","setLastSelectedFolder","lastSelectedMonth","setLastSelectedMonth","sentenceData","setSentenceData","sentences","setSentences","contentSections","setContentSections","loading","setLoading","error","setError","isDarkMode","setIsDarkMode","saved","JSON","parse","isDateBased","setIsDateBased","loadDataFromFolder","folder","month","monthCode","replace","response","fetch","ok","Error","status","data","json","console","log","contents","Array","isArray","length","firstContent","setItem","stringify","actualDates","filter","map","content","date","savedDate","dateToSelect","includes","savedCategory","err","message","createContentSections","category","sections","idCounter","forEach","categoryContent","push","type","dividerText","subcategories","subcategory","sentence","id","categoryData","find","loadAllMonths","pastManifestResponse","pastManifest","pastFiles","files","filename","match","Boolean","presentManifestResponse","presentManifest","presentFiles","loadSavedState","savedFolder","savedMonth","selectedDateData","sentencesOnly","section","handleMonthChange","monthDates","startsWith","handlePastMonthChange","handlePresentMonthChange","handleCategoryChange","handleDateChange","toggleDarkMode","newMode","className","children","fileName","_jsxFileName","lineNumber","columnNumber","onClick","title","availableDates","onMonthChange","onDateChange","onCategoryChange","onPastMonthChange","onPresentMonthChange","index","_c","$RefreshReg$"],"sources":["D:/Coding/chinesestudy/src/App.tsx"],"sourcesContent":["import React, { useState, useEffect, useCallback } from 'react';\nimport Navigation from './components/Navigation';\nimport SentenceCard from './components/SentenceCard';\nimport { SentenceData, Sentence, isDateBasedContent, isCategoryContent, ContentSection } from './types';\nimport './styles/App.css';\n\nconst App: React.FC = () => {\n  const [availableFiles, setAvailableFiles] = useState<string[]>([]);\n  const [pastMonths, setPastMonths] = useState<string[]>([]);\n  const [presentMonths, setPresentMonths] = useState<string[]>([]);\n  const [selectedMonth, setSelectedMonth] = useState<string>(() => {\n    return localStorage.getItem('selectedMonth') || '2025-08';\n  });\n  const [selectedDate, setSelectedDate] = useState<string>(() => {\n    return localStorage.getItem('selectedDate') || '2025-08-07';\n  });\n  const [selectedCategory, setSelectedCategory] = useState<string>(() => {\n    return localStorage.getItem('selectedCategory') || '';\n  });\n  const [selectedSubcategory] = useState<string>(''); // eslint-disable-line @typescript-eslint/no-unused-vars\n  const [lastSelectedFolder, setLastSelectedFolder] = useState<string>(() => {\n    return localStorage.getItem('lastSelectedFolder') || '';\n  });\n  const [lastSelectedMonth, setLastSelectedMonth] = useState<string>(() => {\n    return localStorage.getItem('lastSelectedMonth') || '';\n  });\n  const [sentenceData, setSentenceData] = useState<SentenceData | null>(null);\n  const [sentences, setSentences] = useState<Sentence[]>([]);\n  const [contentSections, setContentSections] = useState<ContentSection[]>([]);\n  const [loading, setLoading] = useState<boolean>(false);\n  const [error, setError] = useState<string>('');\n  const [isDarkMode, setIsDarkMode] = useState<boolean>(() => {\n    const saved = localStorage.getItem('isDarkMode');\n    return saved ? JSON.parse(saved) : false;\n  });\n  const [isDateBased, setIsDateBased] = useState<boolean>(() => {\n    const saved = localStorage.getItem('isDateBased');\n    return saved ? JSON.parse(saved) : false;\n  });\n\n  // 폴더에서 데이터 로드하는 공통 함수\n  const loadDataFromFolder = useCallback(async (folder: 'past' | 'present', month: string) => {\n    setLoading(true);\n    setError('');\n    \n    try {\n      // 폴더에서 데이터 로드 (202201.json 형식)\n      const monthCode = month.replace('-', '');\n      const response = await fetch(`/data/${folder}/${monthCode}.json`);\n      \n      if (!response.ok) {\n        throw new Error(`HTTP error! status: ${response.status}`);\n      }\n      \n      const data: SentenceData = await response.json();\n      console.log(`${folder} data loaded successfully:`, data);\n      \n      if (!data || !data.contents || !Array.isArray(data.contents) || data.contents.length === 0) {\n        throw new Error('Invalid data structure');\n      }\n      \n      setSentenceData(data);\n      \n      // Check format and set initial data\n      const firstContent = data.contents[0];\n      if (isDateBasedContent(firstContent)) {\n        setIsDateBased(true);\n        localStorage.setItem('isDateBased', JSON.stringify(true));\n        setSentences(firstContent.sentences);\n        const actualDates = data.contents\n          .filter(isDateBasedContent)\n          .map(content => content.date);\n        setAvailableFiles(actualDates);\n        if (actualDates.length > 0) {\n          setSelectedMonth(month);\n          localStorage.setItem('selectedMonth', month);\n          const savedDate = localStorage.getItem('selectedDate');\n          const dateToSelect = savedDate && actualDates.includes(savedDate) ? savedDate : actualDates[0];\n          setSelectedDate(dateToSelect);\n          localStorage.setItem('selectedDate', dateToSelect);\n        }\n      } else if (isCategoryContent(firstContent)) {\n        setIsDateBased(false);\n        localStorage.setItem('isDateBased', JSON.stringify(false));\n        const savedCategory = localStorage.getItem('selectedCategory') || '전체';\n        setSelectedCategory(savedCategory);\n        localStorage.setItem('selectedCategory', savedCategory);\n        // createContentSections will be called in a separate useEffect\n      }\n    } catch (err) {\n      console.error(`Error loading ${folder} data:`, err);\n      setError(err instanceof Error ? err.message : `${folder} 데이터를 불러올 수 없습니다.`);\n      setSentences([]);\n    } finally {\n      setLoading(false);\n    }\n  }, []);\n\n  // 컨텐츠 섹션 생성 (서브카테고리 구분선 포함)\n  const createContentSections = useCallback((category: string) => {\n    if (!sentenceData || !sentenceData.contents) return [];\n    \n    const sections: ContentSection[] = [];\n    let idCounter = 1;\n    \n    if (category === '전체') {\n      // 전체 선택 시 모든 카테고리와 서브카테고리 표시\n      sentenceData.contents\n        .filter(isCategoryContent)\n        .forEach(categoryContent => {\n          // 카테고리 구분선\n          sections.push({\n            type: 'divider',\n            dividerText: categoryContent.category\n          });\n          \n          categoryContent.subcategories.forEach(subcategory => {\n            // 서브카테고리 구분선\n            sections.push({\n              type: 'divider',\n              dividerText: subcategory.subcategory\n            });\n            \n            // 문장들\n            subcategory.sentences.forEach(sentence => {\n              sections.push({\n                type: 'sentence',\n                sentence: {\n                  ...sentence,\n                  id: idCounter++\n                }\n              });\n            });\n          });\n        });\n    } else {\n      // 특정 카테고리 선택 시\n      const categoryData = sentenceData.contents\n        .filter(isCategoryContent)\n        .find(content => content.category === category);\n      \n      if (categoryData) {\n        categoryData.subcategories.forEach(subcategory => {\n          // 서브카테고리 구분선\n          sections.push({\n            type: 'divider',\n            dividerText: subcategory.subcategory\n          });\n          \n          // 문장들\n          subcategory.sentences.forEach(sentence => {\n            sections.push({\n              type: 'sentence',\n              sentence: {\n                ...sentence,\n                id: idCounter++\n              }\n            });\n          });\n        });\n      }\n    }\n    \n    return sections;\n  }, [sentenceData]);\n\n  // 과거 및 현재 월 목록 로드\n  useEffect(() => {\n    const loadAllMonths = async () => {\n      try {\n        // 과거 파일 목록 로드\n        const pastManifestResponse = await fetch('/data/past/manifest.json');\n        if (pastManifestResponse.ok) {\n          const pastManifest = await pastManifestResponse.json();\n          const pastFiles = pastManifest.files || [];\n          \n          // 파일명에서 월 정보 추출 (202201.json -> 2022-01)\n          const pastMonths = pastFiles.map((filename: string) => {\n            const match = filename.match(/(\\d{4})(\\d{2})\\.json/);\n            if (match) {\n              return `${match[1]}-${match[2]}`;\n            }\n            return null;\n          }).filter(Boolean);\n          \n          setPastMonths(pastMonths);\n          console.log('Past months loaded:', pastMonths);\n        }\n        \n        // 현재 파일 목록 로드\n        const presentManifestResponse = await fetch('/data/present/manifest.json');\n        if (presentManifestResponse.ok) {\n          const presentManifest = await presentManifestResponse.json();\n          const presentFiles = presentManifest.files || [];\n          \n          // 파일명에서 월 정보 추출 (202508.json -> 2025-08)\n          const presentMonths = presentFiles.map((filename: string) => {\n            const match = filename.match(/(\\d{4})(\\d{2})\\.json/);\n            if (match) {\n              return `${match[1]}-${match[2]}`;\n            }\n            return null;\n          }).filter(Boolean);\n          \n          setPresentMonths(presentMonths);\n          console.log('Present months loaded:', presentMonths);\n        }\n      } catch (err) {\n        console.error('Error loading months:', err);\n      }\n    };\n    loadAllMonths();\n  }, []);\n\n  // 페이지 로드 시 저장된 상태 복원\n  useEffect(() => {\n    const loadSavedState = async () => {\n      const savedFolder = localStorage.getItem('lastSelectedFolder');\n      const savedMonth = localStorage.getItem('lastSelectedMonth');\n      \n      if (savedFolder && savedMonth && (savedFolder === 'past' || savedFolder === 'present')) {\n        try {\n          console.log('Restoring saved state:', savedFolder, savedMonth);\n          await loadDataFromFolder(savedFolder, savedMonth);\n        } catch (error) {\n          console.error('Error restoring saved state:', error);\n        }\n      }\n    };\n    \n    loadSavedState();\n  }, [loadDataFromFolder]);\n\n  // 날짜 기반 데이터일 때 저장된 날짜로 복원\n  useEffect(() => {\n    if (sentenceData && isDateBased && selectedDate) {\n      const selectedDateData = sentenceData.contents\n        .filter(isDateBasedContent)\n        .find(content => content.date === selectedDate);\n      if (selectedDateData) {\n        setSentences(selectedDateData.sentences);\n      }\n    }\n  }, [sentenceData, isDateBased, selectedDate]);\n\n  // 카테고리 기반 데이터일 때 컨텐츠 섹션 설정\n  useEffect(() => {\n    if (sentenceData && !isDateBased && selectedCategory) {\n      const sections = createContentSections(selectedCategory);\n      setContentSections(sections);\n      \n      const sentencesOnly = sections\n        .filter(section => section.type === 'sentence')\n        .map(section => section.sentence!)\n        .filter(Boolean);\n      setSentences(sentencesOnly);\n    }\n  }, [sentenceData, isDateBased, selectedCategory, createContentSections]);\n\n\n  // 월 변경 핸들러\n  const handleMonthChange = (month: string) => {\n    console.log('Month changed to:', month);\n    setSelectedMonth(month);\n    localStorage.setItem('selectedMonth', month);\n    \n    // 해당 월의 첫 번째 날짜 선택\n    const monthDates = availableFiles.filter(date => date.startsWith(month));\n    if (monthDates.length > 0) {\n      setSelectedDate(monthDates[0]);\n      localStorage.setItem('selectedDate', monthDates[0]);\n      // 여기서 새로운 데이터를 로드해야 함 (현재는 2025-08만 있음)\n    }\n  };\n\n  // 과거 월 선택 핸들러\n  const handlePastMonthChange = async (month: string) => {\n    console.log('Past month selected:', month);\n    localStorage.setItem('lastSelectedFolder', 'past');\n    localStorage.setItem('lastSelectedMonth', month);\n    setLastSelectedFolder('past');\n    setLastSelectedMonth(month);\n    await loadDataFromFolder('past', month);\n  };\n  \n  // 현재 월 선택 핸들러\n  const handlePresentMonthChange = async (month: string) => {\n    console.log('Present month selected:', month);\n    localStorage.setItem('lastSelectedFolder', 'present');\n    localStorage.setItem('lastSelectedMonth', month);\n    setLastSelectedFolder('present');\n    setLastSelectedMonth(month);\n    await loadDataFromFolder('present', month);\n  };\n\n  // 카테고리 변경 핸들러\n  const handleCategoryChange = (category: string) => {\n    console.log('Category changed to:', category);\n    setSelectedCategory(category);\n    localStorage.setItem('selectedCategory', category);\n    \n    // 컨텐츠 섹션 생성 (서브카테고리 구분선 포함)\n    const sections = createContentSections(category);\n    setContentSections(sections);\n    \n    // 기존 sentences도 업데이트 (호환성을 위해 유지)\n    const sentencesOnly = sections\n      .filter(section => section.type === 'sentence')\n      .map(section => section.sentence!)\n      .filter(Boolean);\n    setSentences(sentencesOnly);\n  };\n\n\n  // 날짜 변경 핸들러\n  const handleDateChange = (date: string) => {\n    console.log('Date changed to:', date);\n    setSelectedDate(date);\n    localStorage.setItem('selectedDate', date);\n    \n    // 선택된 날짜에 해당하는 문장 데이터 찾기\n    if (sentenceData && sentenceData.contents) {\n      const selectedDateData = sentenceData.contents\n        .filter(isDateBasedContent)\n        .find(content => content.date === date);\n      if (selectedDateData) {\n        console.log('Found data for date:', date, selectedDateData);\n        setSentences(selectedDateData.sentences);\n      } else {\n        console.log('No data found for date:', date);\n        setSentences([]);\n      }\n    }\n  };\n\n\n  // 다크 모드 토글\n  const toggleDarkMode = () => {\n    const newMode = !isDarkMode;\n    setIsDarkMode(newMode);\n    localStorage.setItem('isDarkMode', JSON.stringify(newMode));\n  };\n\n  if (loading) {\n    return (\n      <div className=\"app\">\n        <div className=\"loading\">데이터를 불러오는 중...</div>\n      </div>\n    );\n  }\n\n  if (error) {\n    return (\n      <div className=\"app\">\n        <div className=\"error\">\n          <h2>오류 발생</h2>\n          <p>{error}</p>\n          <p>브라우저 콘솔(F12)을 확인해주세요.</p>\n        </div>\n      </div>\n    );\n  }\n\n  return (\n    <div className={`app ${isDarkMode ? 'dark-mode' : ''}`}>\n      <header className=\"app-header\">\n        <div className=\"header-title\">\n          <h1>진차이린 중국어</h1>\n          <button \n            type=\"button\"\n            className=\"theme-toggle\" \n            onClick={toggleDarkMode}\n            title={isDarkMode ? \"라이트 모드로 변경\" : \"다크 모드로 변경\"}\n          >\n            {isDarkMode ? '☀️' : '💡'}\n          </button>\n        </div>\n        {/* <div className=\"date-info\">{formatDateDisplay()}</div> */}\n      </header>\n\n      {(availableFiles.length > 0 || sentenceData || pastMonths.length > 0 || presentMonths.length > 0) && (\n        <Navigation\n          availableDates={availableFiles}\n          pastMonths={pastMonths}\n          presentMonths={presentMonths}\n          selectedMonth={selectedMonth}\n          selectedDate={selectedDate}\n          selectedCategory={selectedCategory}\n          sentenceData={sentenceData}\n          isDateBased={isDateBased}\n          lastSelectedFolder={lastSelectedFolder}\n          lastSelectedMonth={lastSelectedMonth}\n          onMonthChange={handleMonthChange}\n          onDateChange={handleDateChange}\n          onCategoryChange={handleCategoryChange}\n          onPastMonthChange={handlePastMonthChange}\n          onPresentMonthChange={handlePresentMonthChange}\n        />\n      )}\n\n      <main className=\"content\">\n        {contentSections.length > 0 ? (\n          <div className=\"content-container\">\n            {contentSections.map((section, index) => (\n              section.type === 'divider' ? (\n                <div key={`divider-${index}`} className=\"subcategory-divider\">\n                  <h3>{section.dividerText}</h3>\n                </div>\n              ) : (\n                section.sentence && (\n                  <SentenceCard key={section.sentence.id} sentence={section.sentence} />\n                )\n              )\n            ))}\n          </div>\n        ) : sentences.length > 0 ? (\n          <div className=\"sentences-container\">\n            {sentences.map((sentence) => (\n              <SentenceCard key={sentence.id} sentence={sentence} />\n            ))}\n          </div>\n        ) : (\n          <div className=\"error\">\n            <h2>환영합니다!</h2>\n            <p>위에서 학습할 자료를 선택해주세요.</p>\n          </div>\n        )}\n      </main>\n    </div>\n  );\n};\n\nexport default App;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}